(()=>{(function(){let ce=window.navigator.userAgent.indexOf("MSIE")>-1||window.navigator.userAgent.indexOf("Trident")>-1,Qt=window.fetch,Gt=window.URLSearchParams,Oe=window.matchMedia("(pointer: coarse)").matches&&!window.matchMedia("(any-pointer: fine)").matches,Xt=window.location.hostname==="cbpf.data.unocha.org",de=window.location.hostname+window.location.pathname==="cbpf.data.unocha.org/bookmark.html",pe="https://use.fontawesome.com/releases/v5.6.3/css/all.css",Ve=["https://cbpfgms.github.io/css/d3chartstyles.css","https://cbpfgms.github.io/css/d3chartstylespbiolc.css",pe],Tt="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js",ue="https://cbpfgms.github.io/libraries/html2canvas.min.js",fe="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js",Ft="https://cdn.jsdelivr.net/npm/@ungap/url-search-params@0.1.2/min.min.js",Ae="https://cdn.jsdelivr.net/npm/promise-polyfill@7/dist/polyfill.min.js",he="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.4/fetch.min.js";if(Ve.forEach(function(b){if(!Ne(b)){let A=document.createElement("link");A.setAttribute("rel","stylesheet"),A.setAttribute("type","text/css"),A.setAttribute("href",b),b===pe&&(A.setAttribute("integrity","sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"),A.setAttribute("crossorigin","anonymous")),document.getElementsByTagName("head")[0].appendChild(A)}}),!Kt(Tt))Qt&&Gt?$(Tt,ut):Qt&&!Gt?$(Ft,function(){$(Tt,ut)}):$(Ae,function(){$(he,function(){$(Ft,function(){$(Tt,ut)})})});else if(typeof d3<"u")Qt&&Gt?ut():Qt&&!Gt?$(Ft,ut):$(Ae,function(){$(he,function(){$(Ft,ut)})});else{let b,A=document.getElementsByTagName("script");for(let q=A.length;q--;)A[q].src==Tt&&(b=A[q]);b.addEventListener("load",ut)}function $(b,A){let q=document.getElementsByTagName("head")[0],nt=document.createElement("script");nt.type="text/javascript",nt.src=b,nt.onreadystatechange=A,nt.onload=A,q.appendChild(nt)}function Ne(b){let A=document.getElementsByTagName("link");for(let q=A.length;q--;)if(A[q].href==b)return!0;return!1}function Kt(b){let A=document.getElementsByTagName("script");for(let q=A.length;q--;)if(A[q].src==b)return!0;return!1}function ut(){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a){if(this==null)throw new TypeError('"this" is null or not defined');var l=Object(this),n=l.length>>>0;if(typeof a!="function")throw new TypeError("predicate must be a function");for(var r=arguments[1],e=0;e<n;){var p=l[e];if(a.call(r,p,e,l))return p;e++}},configurable:!0,writable:!0}),Math.log10=Math.log10||function(a){return Math.log(a)*Math.LOG10E},HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(a,l,n){var r=this.toDataURL(l,n).split(",")[1];setTimeout(function(){for(var e=atob(r),p=e.length,c=new Uint8Array(p),s=0;s<p;s++)c[s]=e.charCodeAt(s);a(new Blob([c],{type:l||"image/png"}))})}});let b=900,A=[4,4,40,4],q=60,nt=4,yt=4,ge=30,St=["Water, Sanitation and Hygiene","Coordination and Support Services","Emergency Shelter and NFI","Health","Food Security","Education","Protection","Nutrition","Logistics","Camp Coordination / Management","Early Recovery","Emergency Telecommunications","Multi-Sector","COVID-19","Multi-purpose CASH"],He=St.length,st=26,Ot=50,Vt=24,be=4,Nt=+Ot+He*st,ft=A[0]+q+ge+2*nt+Nt+A[2],tt=2,xt=4,Zt=.345,Mn=4,N=8,E=1e3,ye=22,pt="#1F69B3",ze="#F79A3B",Ue="Sector Overview",qt=new Date,_t=qt.getFullYear(),je=6e5,$t=d3.utcFormat("_%Y%m%d_%H%M%S_UTC"),xe=d3.format("~s"),te=d3.format(",.0f"),rt=d3.format(".0%"),me=d3.format(".3s"),mt=d3.format(","),Dn="",wt=20,Je=6,we=.6,We=window.innerHeight,Mt=16,ee=1.1,ve=4,Xe=.3,Dt=d3.local(),ot=326,Ke="clusters",Ht="pbiolc",Ze="https://cbpfapi.unocha.org/vo2/odata/PoolFundBeneficiarySummary?$format=csv",qe="https://cbpfapi.unocha.org/vo2/odata/AllocationTypes?PoolfundCodeAbbrv=&$format=csv",_e="https://cbpf.data.unocha.org/bookmark.html?",$e="https://gms.unocha.org/content/sectors",zt=["total","standard","reserve"],Ut=["targeted","actual"],tn=["M83.277,10.493l-13.132,12.22H22.821L9.689,10.493c0,0,6.54-9.154,17.311-10.352c10.547-1.172,14.206,5.293,19.493,5.56 c5.273-0.267,8.945-6.731,19.479-5.56C76.754,1.339,83.277,10.493,83.277,10.493z","M48.297,69.165v9.226c1.399-0.228,2.545-0.768,3.418-1.646c0.885-0.879,1.321-1.908,1.321-3.08 c0-1.055-0.371-1.966-1.113-2.728C51.193,70.168,49.977,69.582,48.297,69.165z","M40.614,57.349c0,0.84,0.299,1.615,0.898,2.324c0.599,0.729,1.504,1.303,2.718,1.745v-8.177 c-1.104,0.306-1.979,0.846-2.633,1.602C40.939,55.61,40.614,56.431,40.614,57.349z","M73.693,30.584H19.276c0,0-26.133,20.567-17.542,58.477c0,0,2.855,10.938,15.996,10.938h57.54 c13.125,0,15.97-10.938,15.97-10.938C99.827,51.151,73.693,30.584,73.693,30.584z M56.832,80.019 c-2.045,1.953-4.89,3.151-8.535,3.594v4.421H44.23v-4.311c-3.232-0.318-5.853-1.334-7.875-3.047 c-2.018-1.699-3.307-4.102-3.864-7.207l7.314-0.651c0.3,1.25,0.856,2.338,1.677,3.256c0.823,0.911,1.741,1.575,2.747,1.979v-9.903 c-3.659-0.879-6.348-2.22-8.053-3.997c-1.716-1.804-2.565-3.958-2.565-6.523c0-2.578,0.96-4.753,2.897-6.511 c1.937-1.751,4.508-2.767,7.721-3.034v-2.344h4.066v2.344c2.969,0.306,5.338,1.159,7.09,2.565c1.758,1.406,2.877,3.3,3.372,5.658 l-7.097,0.774c-0.43-1.849-1.549-3.118-3.365-3.776v9.238c4.485,1.035,7.539,2.357,9.16,3.984c1.634,1.635,2.441,3.725,2.441,6.289 C59.898,75.656,58.876,78.072,56.832,80.019z"],W={},kt={},Et={},t={selectedYear:[],selectedModality:null,selectedBeneficiary:null,sorting:"allocations",selectedCbpfs:null,cbpfsInData:[]},en={"Water, Sanitation and Hygiene":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADBklEQVRoge2ZTWhTWRiGn/eYabWOXQguxqp0qoioC0EZyoCmEcQBBWdhXQwKItKuRGOXLurGYWawiX+gFcGFunEjDAXbjb8VhNGVVkRJqtafjah00dZq7udCw6QhSZPQ1FPIuzqc7/3O+Z577r3n5EaUoZZY8k9Eh6Cm1FyDccHR69GmQ+XMna1QSyyxBdEt1JAxy0tJbdeiP1/NlSTYRxnFf8ut4Wv+lAA4oTMTiv86yyLDugtUccJgvJwJDcYxTpSTm7OUSDxp+YLXo00qZbBcY5U6RqlylRx8OlQF+N6a8QAFH+LplY2a6TWyF5h6AxdcuXVg2dPJsjwCyCGjJ+WCg4VA/L6FxFYXuAfh+ODufBa/AQCJWoedj8QTh3PFvQf4X+oMxxJ7s3tnEAAInQp3PV2W2TezAEStnDuS2TejAABktGauQqiQudIHsUw1d72YM9t93iDsGGhFXqMkx6zfgaPg0Qrc7VgyeiPa1De3bvZasMcFzWJzuukNQFo97Q0jQeCik9ga0w3vAADm/Vhzq1DczBam214C9LQ3jBSKS6pLtx3Gyzy+oSmtqkIKSWozs7OIRRn9Q0Ggtu9RUEsseUfi18l8kXjSMPqn7TVZrEo9HXv5DJSiKsCUy+gv3srtSpZSVVVVTZFaYol/IvHE37li3m1k2dp4LLHJAvoAJLcl+5O/1wC/HX9S/zEVGsg45gzVus+re/cvH057/NsHMjSWCv2VdUZbPJYKTfhN7O0KhLsGm+WCO0ITLrJhgYnwzQNL+8HTFejsNOcUnM4uHkDIuYCTmAk8BbhR/2wH0pq8BmlNJD7YCh7eQq2XbdbbV8mHBb9MAAZP7MPzVd6twNtXiR2TFQ8gWE5943bvAMy0q1ivc7bTOwDgl2KNZtbsHYCk4v9Al0LeAYANFG9lwDsAC7hQrFeyi94BLBgePYdxvwjrveG69+e82wcA1see/RRS8C+wLlfcjP9SuG23Dza+8RIAYG33vR/mjczfg9kfklYCmNkjoUvDc9+dv9++7hPAF0Z96GNzO74WAAAAAElFTkSuQmCC","Coordination and Support Services":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADiklEQVRogc1ZTU8TURQ9ZwbDD5AdSkIxLgyJ7HBHYWWiiQsxRCWRjRATv4q/wxZdCRtdFA2JCzUaXWFZqTsWxgWGIRFZGxMTUMscF7Sknc7Hm/bZ9uzmzX2957x3b++8+zhxf2tcjpYguQJzpfnMS3QxsnnvAqGCQNeBbnK84H0FcKLyvixgupTLrHSSZBSyBW+KQBFADwAI2nEguTU2PQSK2YI31RmK0QiSr6Ds+HTmAZRrBrtORBR5gredtdzgC1+6jIAISMtjC5vT7aXaiIkF71KQvKR9STPvc5lXrA5GqYzKiWx+8xyIRYoiObuaG3ybhpjJfBNOTnW0lMusCJiGYTgRfESwH8QxQYtpyJvMN11Qp3ZSKZdZMQ4n4ljN0/G0AuLmx4VNMBrqBADA2vzQ86AIki59PGlHTkwseJckPEWAPIBrpfmh5aB9gwCgcyLSkgciBADtF9EMeSBGAHAgIpjYJF1HfGyBcx2C5AGUQV6NIw8kCABiEts+EhM2DIkCgPBw+l8wCZtahK7kYZEB+62yMwBJF0BxvOAVDweF71HFLnQHDotMtyCmWBqFkAG2U88QvttwHL4D5GwKB9u+z9m0jm35YNhgKzj7YKN3z++Zo3RFxDAAUPgMcLnXLS+9u3Pyt01/VgVM3P/W7zt/3xA8HWogrVNHzq/eG9ix5dOagIOVdz9Fkq9CWu9198/Y2glbSYw9v2cukTwAkCN/5F635deaAABXTQ0lc9skWBNA4ZSxsThsy6/NHTCGAN/Wb1kTIOKLqS0pY9sk2AyhYrJVxZYw+lAzgTUBvW55CdJ6oqG0fvTH7pItv9YLmfj3NciRUIP/UMisJvHqvYGdvp+7o6RuAfoI4ReEX5I+kLrV93N31CZ5IGIHUp0HYr7V42DLR+vngVYbWy36sBVCrTa2moaN80A7EHkeCD0TV2Ktod0X0vqwDkn7cjCzdnfIqK4YhVC7yAPpm2eJArIFbyq06WQfDc0zk0uWWAFxXeJWmIah2UuWSAHN9iqbRbO92FAB7SZfRTMiGgR0inwVaUXUCYhM2LAucX2daLWxVTc/riseTOxDAWkv+WqKXauNrdD5pnd2BDofNnEYy29OOuQzBP8JK8WO2bx3gcRzGK58JxAZHcKkA+Bhw4suIg9EhxOovAOoq8lXES6CZYfkDQnfIG0BuNiN5Kso5TIrEiYFeQI2BM79A7D9dwIFdOgTAAAAAElFTkSuQmCC","Emergency Shelter and NFI":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFNklEQVRoge1ZXWxURRg9Z3YXqqj8tUSSUtilYGOIMcKDJsC2S8Co0cQoTTQxJIQHAsR2KQUUBaoQwba7LRpME+MLkICFGHmByM9miVETiWjiD3/dBQJiFGJr+O/uPT5QSrvdvezeXakPPU/3znxzvnPunTszd4b4DzC38eKIbte11SQXQ5CgNk/ywU0H6sdfLXQuFpRNYqA1/qolNRKc2L9KvxNsmN3l/bShgVahUhbMQCB05inBagUx0y5OwvcusuZQ0PttIfLmbWDOR+fHWt031wpYStKVVSNJIrar26yMrvT+kU9+xwamtx31PHx1zBIQDQRGOuEQdJVA03CT/GB/zdSbTjgcGQiE489ZssIkH7uHwC9uJ+HLtnHSCUMTPBz07stVS04GZrecnmIss5HE/FwEBZrjVRbVQuKJe6Q4CCVrI8un/JKtpqwMzG28OCLhvlYvcTWJ4TbK/xa5uaTzWri9YdqtvlX+dRG3GTlxIYANIEoyc6Ab0CeuW1h7cPXkrvwMSKxqib8BaDPARzPnlAVghyehFQfqy/+0o5y59exoz43EepBLALgzp9ZlgO+XlHo/bq9mMmcD/tDpGQS3kHzGThCgKCzWROp8P9nHpfA3xSuMsVpAPmvLDv0goiZaO/nrdPUDDMwKnRnvZnK9gEUEjQ3zeRBrIrXebSDVT9y6iNuMLHsX4EIBHlI7r1uet76rK7ueShMIdbwooBWkN3MuSeBut9GKg7WTz6U10DssAu+ReCQjGXQdwhZr2PUN0WXTrqSLqAx3rCG4IaV4ayToW5ou/unmcw8UmcSbFN4B8ZCNj2skGq1Osyna4L3Ra6AqHHtJQojE5MzCAUGfu4n61KeQiqpQ7CSIKf2T4x9/l3e03TJiVtOpCW5jGgFUg8zYvSV0kFgeCfr2sioUWwGi0U4QpB9B1kSCviO2cT2oDHUcT50jBHT5O71jslkHVYVjsyG1gnzSVhZUZ0Cssom5JGBxcalvRrbiAQDEtoFF2J7tIi4S9B0pLvXNELAYwCWbRKvcAIrT1CQAfWYlu9dEV1TYEKSHOs9t5qgyD8CFgDwSdt6Q5+1cOHqGzjZ/OL7LyFotMkhgWD/5wDhWhWMa0FrJabnMhvcDgdYzj8uyBmhKO0z+38QDwOGaSb+mK884EzqBv/lUOY3rFQhzSFQA6umevCThOIhDNIndkZqpHYXKWRAD/taTpUy6PwRUTcB1d3bpvZhAYgKAuUq6NlaGY7uM5V55uK7sQr65M8+0WaIqFJtnLPcxEq9l80ND0kXgdTFxLNDSMTff/HkZqGyO+UF9iTsjmTRwQEjFnRiiRMLeQKhjVj4aHBuY13xuDA12AywCAEEXLJnn79WONC8I6uk6LBK4xx+Oj3Kqw7GBbtO9Fj1PXtJlmqQ/Wufdf692h4PefbKsytvLZQBECaG1TnU4MjB/3c/DICy4c09wSS4jS7RuymnJLLtbogXT2456nGhxZOCv0UWzQN5+7VK8uNS7J1eOcRMmtQs6CwAEx4y8MtZ2OyYTnHUhmfLea/Ibuz+mTGivZpJA796QjMrt4jPBoYE+2yjCCUccAAT+1ufW0YfsyABdiT2STkg6YeDa4YQDAGgSO3p55Mq5GwIOZ+KeD7bCSdtC8+Q9Ew82hgwMNoYM2CES9DES9BX2ECUFQ29gsDFkYLAxZGCwMWRgsDFkYLBhBPQ7TZTg6MD5fiCdVkMgdd8/+3MAmyR9H0S6MidIp9UggUUSDkC4Iugrt9GiPJM0QbhCoMmuzBHSaP0XYBkfLLhiquwAAAAASUVORK5CYII=",Health:"data:image/png;base64,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","Food Security":"data:image/png;base64,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",Education:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA7CAYAAAA9xQlEAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWUlEQVRoge2av2tTURSAv/OSWLCgFrolQ0pc/BfEYiIqUnRw6OzYQQnaTRARHSyIDXWQ2k0noU7S2R/YxUWobtW86qBd/VG1oXnvOLRSTZ7pizftfa/cb0rePfdwP7jnnpdLpFLzFZuoXn46Xpr41/Dxifr+oE8+Rww1gRlv+1a27WRVdSzNAohIJtUCANn2RzoVKnMAGQ8JQ7kmwuGdXlhc2gRC4dHzS6X539/LNf8YJFcg9VvICdgmcQKn733c2018xCm08xy5+2Eg1wjOoIyu/GicrEzWPwGPQ49ZVnnTaW4CBOR8bjW4jpBDQABEikDVU6rBHl3qNNu+gFDoPC5DnYYTVwPd4gRs4wRsk3oB82NUWUNYAKJ+9v1HPj240QdiYSSgylfP0+EnF0uvTfK0Uqn5V4AbcWKNtpDAbK8XDzCYH7qJshIn1rQGDhjOj+Tb8tt+oC9OrJGAip4t1/yxE7eW+03y/MnRqcVCI8jcR8jFiTeqAUE8YLqZ/TldqfkmqTYJ2Xiji0fqj1EnYBvjRqaqDzzxHgYarvViQag36El4FZFDccLNBJT5Z+Olc0Y5Ihi+8/5lthnUEdmynM22kNDzJgbwolpcAr7EiTUTUB05NbW4zyhHBJXb70YQidUkzbaQSLERZBbKk/6coN+Ncm3mLCiMxm0F5m+jIkWBC111n61SdhGb+mPUCdjGCdjGCdjGCdjGCdjGCdjGCdjGCdjGCdhm9wmISv7vJ5pvjUkS0vq3S0VD0fVLJUUyIvT83qeXtF2rCOIhDKx/Tj67rwbShKKvfgFZK5MCBawJXgAAAABJRU5ErkJggg==",Protection:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFOElEQVRoge1YXWwUZRQ9ZxZpaEwoJsaoaNhuIYEor/jAzy5FA0FSBQsYhZoA4UVhdzYRJGohxuBD7RQfrGJ46IMJlMSARDAI+9OCmvhkIjFBdmpC0AewCAiVlp3jQ0vDtjOzu53RxoTzNt+9595zkvm+784QIWNpR+FZiWslLQIxEwAIXJTQK6A7b8ZOhdmPYRVqbCvMKRr4jORi/0zli9SWnmTDL2H0DcVAwrIXQzoCckZFBOkqgaaMGesN2juwgca2whzHwPcVix+BoH45zoJ8evaFIP2NIGQAKEbwSbXiAYDgQ6RxIGh/Nrf+NPVyXe0eSBtHlroevnZr9+E9Tw2WI49s2JNBBIjOslyy4XS5PC+dUy7X1e4hsBMcfZveujy9FgB2lW3ucF3Ql5DiWgBlDXjpNAi1jCtKvVZJc0ELqxHrgTKn1jC8dBoAH3VJd1lzK8rHK8nzhTizskR3nYE3cVAIcILwAxkQdCkIHwAYsEYgAyQDX0QAeoKQAxlwpENB+MNQdxB2IAN5M3ZKQGbiFZTPmg0B+KHcxMZmAFeq5Qnqdxxnc9D+gQ30bpvVR2m1oP5KOYL6DeGFoHMQEIIBAMiYsV6HegZSrlyuoKwcZ0EYkygATAmjCACMzPeJeMeFRoprISwC+MRwVBdB9EI6lAv4zo9FaAbuYmQwKzvbhIWyBpZYfXURYb2o37LJ6DGQ+lcVSUx09K2i+FiROJhPRf/0S/fdA8v3na8x5HwrqhPA0XiH3dXcrUiogu9Bc7ci8Q67C8BRUZ2Uc3b5vvM1fhxfA0OKzAc59+4zwQ1XLtkHWlsV+gzV2irjyiX7AMENo/3IeQNF42k/nr+QSI0N4EbpIlt6pvfthxTaDwFI7Jnetx9gS+kyrtdoqu1H9TVw+o2Zf0jYAGGoJEBsSlh2ZygmJCYsuxPEptJ1DAHYeDL9pO/94mkgbtk7ACBn1h8FnfUA7pQkkFvjlv1pIBMS41bfRyC3li6r6Igbc2b9UQCIt9utPgY04BagtDdu2VsBIJtq+ELAq5KKpR64JdFhWxPVn+iwLRKvjxUP8pV8OnoQABKW/TaJ3e4VNGAI/M41RhLQxwnrwssAkEvVHwLQMtYEwO0Jy26rWrxltwHcPk480DLSC/H2wi4A73lX4VmDKm4TcM01DBqQ0RVvL6wEgJwZ+xzAuy6p6UR74YOKxQ/npsf1I94Z6YFEe2Enyfe9aki4DhWTRtacfS4CrsC402bUxQMkDicse/Ew0XA/FcgdcatglhMf/7CQBrnDVRRoA0C83X4T5F6fMjcYKa7ImrPPjW7AJR2FhYbDEyAedOdoAOJxQI0g6zwK3ymC83tS0Z/dgkv3/TpPjvMjvCYA6aqIHwg+5yld+MsxtCKfjJ0B7jmF8snYGRArBd10Z3IaiDU+4gFgSgRO0rO346Q8xQMAOcNPvKCbEp6/K77EAABkU/U9hmOsknTLR6QvJDb6BJdNvK5uGY6xKpeuz9+7Pu4eyKSjWQFNXsdrBa28/ykRj0yoonCbUnMmHc2OjbleZHkzdopEE6C/q21GstYnOq3aegIGAa3JphuOu8U9b+JMMvYNxAmZCAsCBg3ppZwZ+8orx3cWypr1Jx3HeFHC7fDl+UPAIIHmjBk75pdXdizOp6NfG+R/a0IYErgum6r/slxqRXN9JhU9QTmrvW7sMCHgGsmmfCp6pJL8ij9MsumG40UZc8tnBkNRxtxMKnqi0vyqvqx6zVm/Vy+pOlTbY9J/rwfFfQOTjfsGJhv3DUw2/vcG/gEn4Sfa3kOf1wAAAABJRU5ErkJggg==",Nutrition:"data:image/png;base64,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",Logistics:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAnCAYAAABJ0cukAAAACXBIWXMAAAsTAAALEwEAmpwYAAAENElEQVRYhe1ZXWgcVRg9Z2ay2/zUvkSwfwnJSuiDDyoBi6ZmExuoNC+CodD4JLXB2rjN1jbagmExCpIwmzQqpOIPCAr+IBoLhSzNtokUWksfLEhrd9KWNhGNtBVCNsnOfD4ku2w2G3cmY7MGe16Wvff7zvkOc+98d+8SLrGj94o3bqmdBJpFIAQ+K7079eZXoUdm3HLbgeaWIG6qb5F8DQBIAED7H+uKLABH3HLbgeKWgMQLdsbuFVwbgOChRUMiG1zz2oR7A3nGfQP5xn0D+caqN+C6kTlFfXj0WRE5DmLTcjkEcguClmjQd2LZBrZ1/7pZU5WDqf6bBgKKP2zooiT004Gqmxni/W6Kn+PnRqH0A9jkeAnVdo9u8YeNj1VVvQowkF2BJNBGS4v5deOjBXMiropPSYAbIULbT6A2PPooYQUh1m6Cqj0ReEC8CJE9IGX55S6NnAZqe2I1isV2QBoBAosWTH6R1UBHhyjD64ydQhyBcOt/reh0LDDQ1HHJM/HAmuYzinEY4JZ7JSrA74AcU4gBD83LJwNV07lyGrrGi6cZr1IVaQTQCuJBYN5AQ9d4sanFX5oQOej2DZET5DfatOyJvO676yRt8ND6SQAXAVzc0XulN25qnwCA5tdjOxOc+hRAqdOlIoIbJMqyTAiAayArMqeevlOxKxSi5e+5+gwspZ3EYwBKc2pBJik4DzJ8MlD5fUeHNEVJUUC8b5PAAvAzgA9gSXPCNMuiwcry+WIzYmENBX2VlpLYDFi7099AoRCtOt3opCgREg12tAGAYDFIP4Dv/LrxTihECwA0gkv0AolD+JMQIxAZESo/Rtsq7tgRS2K+iX2RPlbbE2uE4KgTnkyQeKNej509FfQNaCLyMokPBfASPAuREUvBSCHN83Y2l2NxYVvqi+AHVZFXIgd8N3Llbe+7vsGcNftBNM6lIghgQIsGfScArNhPQAiqk3tNLVBbIq3lY3bSIq3lY9v7rreYCfPW3AirgTycRglZmypqf9m4k9xIa/lYas8RJRBZav2vHqx6A64PCXV6zAIXHqlFxIwGfYuOKXW6MQyixq1mSgcYXuEnIE/9m2wUqVn1SyhvBkTkqJYoLAHE1h3qUvF5MzAzO9M3eGj9pFUw1ecmPm8GPB7Pq7XvXSpRZgtb3cSv+K1EEgQ7OVvU6Tb+/72J63Rjb2YPAOauVep0Y68bbrtYViNr+lLUiZvG2yDb/zlSjv9VdHv/hZbqWQDwh40zBLYtR3MJ/tOODTz57i9rvQXez5PH2pwSgsHEGnXXyL7y28mx9O49dKBCsXvlki3P8RLyFniHFhQvMiqQbgG20pInRKQLIqPJaRINBfHEqQWmwJm5Tzj6IzBbnuO3kFD+hOAyyG+pWF8PBR6+kBFyDsDhev3a4xas50l5DsRv6QEEuiEIkDjm5MIrW97fd1Of+s4MDIEAAAAASUVORK5CYII=","Camp Coordination / Management":"data:image/png;base64,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","Early Recovery":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAtCAYAAADoSujCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEYElEQVRogdWXX0xbZRjGf++hIAUdm24xCwHTMi80xAtYtBcmZVUDcbJpBBbjjFtixCiJUrLsTsKVmUkBE6Mj8ca4+Qc2FyYxUQKli5mLgRi98cbCJHMmZmHgxh8LPa8XUIECpedwSspz+Z33+d7nd877fWmFDMjf+Xu5oVKHylOKekEeQHQa5C/gF+ByLPbvt1dPP3Jnq71k63GXFfjg+qNqxkMo1Yik3FvRCVF5z5ySDyNtnjm7PR0DCLSPvaFidoDkW/Gp8quKHI00e67b6WvYMa0bRPR9q+EBRHjMUP0pEIo+bqevcwBwClW1ZRb2mYZ8X9Ux+oRVq2MAQ83eLhNeV9S04xcoAr7zh8Z8Fn3Oyt8efU2ELkFsvRyFKTWlJtLiuZZOveMAsL0QGQGA7YNw7AwkKxIs+0Sgye7BFigSQ3tRTfmSMwYAEG4u+xjhLdu3kzKMSEpvRgFgEUJFzlg2KgNz6qrbrCzjAAA5ol9b9ajonl3gBqjsGs6t6hh9t6oz+mJy3bYAxKHUqkeQipgx3x/ojD5438yerwTaxKSnqmO0cXVdhuULjbvzjfkfBKmw41d0WpDC5QVVwXhzMOg5C9vwBUpKSmKC/GbXvyo8gIgo5keBzmjT4vMMyRcadxcQ9w22eML+1rBLdpeeF6TBsQaqisiJjAD4QuPufFnoFeGQqfpSJFh2wd8adhlFpecQOeZUH1W96fgIrQj/DOAyRL7wt0frIm2HFsyp8eOgXy4nYEBMCShM2eklEHMcwG0stCyFT2gVxN5i7yKEMjCrrtrBFk8YqLYKoapxUSPoOMA/BRNnFL2UtPw/RE+DxPcWe4/Pqqv2WkvpLMC+yZmfgZF0e6hqHHh1sMVzyZEz4AuNu93GQo8pejbyTllfZddw7uLdLS8klS6gZnU4eGAwsVDfrTm3boxeQOR5K+GHgmXnwYFrNDHzwGFRuejvjD430nhw/k7B7WNrvoQSmdW8H1cuTdwcrbAbfssASQcWgTxRuRhoj9augVia+cTYJPTkbe+IKj12wi/1dCb8qmYQM1TrBoNl31R2Defumrn/9KzpCiWHT8jfGnZJ0UOfi1BvJbxtgKWZvww8vVGNQgylYSjo7U1nz/puzbn159inwMur9lGNC3IyHPR+tp7P8gitmPkNw8PiOIE2pqpZqZ4GiZuTf5xQtDuxlnjzG4Vf6pO+Uo3NGikDhYX3HOlrLJ6x0qO+W3P+vjF60hDKMczu8NsPX01VnzZAOmOTkKpe0bzZw5Gm8rvp7m9XaQFka3hIAyCbw8MmANkeHlIA7ITwsAHATgkP6wDspPCQBLDTwsMKAKvhc+MFz/af2j+d0XRpSGDnhgeQnRwewJVvzHeBbBoeZeDewvwjfY37Lf22ybQMIY1/QzZ/mG2HDJRIyoosDg9gmCKvAMPrPVTVK664+2i2hoelW8jfMbbbQPuBg4kH2Xhg15MBEGn2TBquvBqUPpS7KOfmNLcm28MD/Ac0rl/qXg0VxwAAAABJRU5ErkJggg==","Emergency Telecommunications":"data:image/png;base64,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","Multi-Sector":"data:image/png;base64,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","COVID-19":"data:image/png;base64,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","Multi-purpose CASH":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD3klEQVRoge2ZQWgcVRjH//+dyW4TaiqYeEkQOhWlRz16cfegBFpPprGFtAdzsFJqNi00QltLQ5FUMJtN8FCVoI2gzV4riD1kT8VbPQhCaHYRmksaxNradHdn5u8h7u402dnskqGzK/md9n3fN+/7f7Nv3ps3j2gD4p8vnyVxAcCNnn7rVGaITtkXCVFXw5BMgnwe5AdrK7nvjizIKPvaogAQ1z2No94i6I07fG2l6y/Hjj1bddvTtU4WWUqRPFG16oeePmu4UkBiajkN4DRI1uijJZH0lVlt8n0QbSMeAAgeqxQgapLiKCCz3kVhITJCYN8m6xdtccePLMhYu5f/BsRw1aovF5PWybaYhdZW8jNe8YJmF5PWSZBqiwIEHfL8ns0mrVGQAtplHRDOQ/gN0GWv+F12CQACQHwq9zOJt8IW0wwSbmXPWG9HAKDdxANVze0xC9Uh8AIErAq64IKvmXbnXtPu3Os4fB3ARQGrQecL9L1HQqZYKozcHj/4cJPrDoA7b1z9PR2LxuYADAaVM7ACJGSyY/vfq7fI3B4/+BDSUGI6v4CAighkCAlYLZYKIw2tkKRiEXsEwv0gctcsQEBRwrhhGn2GafQJ+FhA0b8bzdQYNr78NPrK3wBmfXtrIr/fEPoke8b6zNO+Gk/lAGCyVjBd3mxQewXH5U3D0MRO89f8BxxFrm+2qcRv/cS4scfL9eVuxXae3PXzNZO/ZgGxjq37YsMwjFqxAFD6x2h6Y9S9x/+aZvLXLMC2neObbWJpi61MR3TPAT+fH+tuh+Xnaya/3zMwEU/lYJrGPAA4JfuEyMt+tywCHQbw6zaan75GeqfOJ4SG8xMAEqncjjYIAlaLxcLLjc5EA+ml7oJj3gXRu5O8i2MWA1kHCLwYi8bmIG3/LEgsOObcTsWXCfJdaDAxnV8YSC91+wUMpJe6E6l8BsS7QSUN+hvQYMEx30xM5WaJyI9O9NFSdP0FOUbhVcE9VHDxEYieIBMG/xFrY2hMCO5EpNQF21wPPIWX/8d+QMKtsIU0Sztq3qUleXrhkZiYzl2SOAxiJjtmzYSkq2Gqs5DE+HQuDfASiQMELoaoq2E2CvhPPMHTHt+NcCQ1h1lLvISMHvyRDFNYozAxtTwJctxrFPCAkhuWqPrQBjGzOGZdAQAT4KktIcA+tPZh5TkAVwAgIuj7kMU0hSBXwNflttnbb324tpJ7DuBRT9B81O1IPu5Uy52E2Ot88svZlypviAQ2TgHv38vPkzjmif10ccw6/8wVNkkEADJDdHr79x+XUBlOkvdIs3WpLGTlIiBdE/QnoekwhTXKvx//eq77xCqaAAAAAElFTkSuQmCC"},k,Rt=!1,Be,kn,vt,I=new URLSearchParams(location.search);I.has("viz")||I.append("viz",Ke);let C=d3.select("#d3chartcontainerpbiolc"),nn=C.node().getAttribute("data-showhelp")==="true",Ce=+C.node().getAttribute("data-minpercentage")||0,an=C.node().getAttribute("data-showlink")==="true",Pe=C.node().getAttribute("data-title")?C.node().getAttribute("data-title"):Ue,on=I.has("year")?I.get("year").replace(/\|/g,","):C.node().getAttribute("data-year"),ln=I.has("fund")?I.get("fund").replace(/\|/g,","):C.node().getAttribute("data-cbpf"),sn=I.has("modality")&&zt.indexOf(I.get("modality").toLowerCase())>-1?I.get("modality").toLowerCase():zt.indexOf(C.node().getAttribute("data-modality").toLowerCase())>-1?C.node().getAttribute("data-modality").toLowerCase():"total",rn=I.has("persons")&&Ut.indexOf(I.get("persons").toLowerCase())>-1?I.get("persons").toLowerCase():Ut.indexOf(C.node().getAttribute("data-beneficiaries").toLowerCase())>-1?C.node().getAttribute("data-beneficiaries").toLowerCase():"targeted",cn=C.node().getAttribute("data-responsive")==="true",dn=C.node().getAttribute("data-lazyload")==="true";cn==="false"&&C.style("width",b+"px").style("height",ft+"px");let It=C.append("div").attr("class","pbiolcTopDiv"),pn=It.append("div").attr("class","pbiolcTitleDiv"),lt=It.append("div").attr("class","pbiolcIconsDiv d3chartIconsDiv"),ne=C.append("div").attr("class","pbiolcSelectTitleDiv"),jt=C.append("div").attr("class","pbiolcSelectDiv"),ae=C.append("div").attr("class","pbiolclaunchedValueDiv").append("p").attr("class","pbiolclaunchedValue"),S=C.append("svg").attr("viewBox","0 0 "+b+" "+ft).style("background-color","white");ce&&S.attr("height",ft);let un=C.append("div").attr("class","pbiolcYearsDescriptionDiv"),fn=Xt?null:C.append("div").attr("class","pbiolcFooterDiv");Ge(S,b,ft,"Loading visualisation...");let Bt=C.append("div").attr("id","pbiolcSnapshotTooltip").attr("class","pbiolcSnapshotContent").style("display","none").on("mouseleave",function(){Rt=!1,Bt.style("display","none"),H.style("display","none"),vt&&d3.select(vt).dispatch("mouseout")});Bt.append("p").attr("id","pbiolcSnapshotTooltipPdfText").html("Download PDF").on("click",function(){Rt=!1,Wt("pdf",!0)}),Bt.append("p").attr("id","pbiolcSnapshotTooltipPngText").html("Download Image (PNG)").on("click",function(){Rt=!1,Wt("png",!0)});let Te=!Oe&&(window.safari||window.navigator.userAgent.indexOf("Edge")>-1);Te&&Bt.append("p").attr("id","pbiolcTooltipBestVisualizedText").html("For best results use Chrome, Firefox, Opera or Chromium-based Edge.").attr("pointer-events","none").style("cursor","default");let H=C.append("div").attr("id","pbiolctooltipdiv").style("max-width","326px").style("display","none");C.on("contextmenu",function(){d3.event.preventDefault();let a=d3.mouse(this);Rt=!0,Bt.style("display","block").style("top",a[1]-4+"px").style("left",a[0]-4+"px")});let B={main:S.append("g").attr("class","pbiolcTopPanel").attr("transform","translate("+A[3]+","+A[0]+")"),width:b-A[1]-A[3],height:q,padding:[0,0,0,0],moneyBagPadding:22,leftPadding:[182,540],mainValueVerPadding:10,mainValueHorPadding:2},o={main:S.append("g").attr("class","pbiolcButtonsPanel").attr("transform","translate("+A[3]+","+(A[0]+B.height+nt)+")"),width:b-A[1]-A[3],height:ge,padding:[0,0,0,0],buttonWidth:52,buttonPadding:4,buttonVerticalPadding:4,arrowPadding:18,buttonModalitiesWidth:68,buttonBeneficiariesWidth:62,beneficiariesPadding:750},Q={main:S.append("g").attr("class","pbiolcAllocationsPanel").attr("transform","translate("+A[3]+","+(A[0]+o.height+B.height+2*nt)+")"),width:(b-A[1]-A[3]-2*yt)*Zt,height:Nt,padding:[Ot,0,0,82],labelPadding:6},ct={main:S.append("g").attr("class","pbiolcLabelsPanel").attr("transform","translate("+(A[3]+Q.width+yt)+","+(A[0]+o.height+B.height+2*nt)+")"),width:(b-A[1]-A[3]-2*yt)*(1-2*Zt),height:Nt,padding:[Ot,0,0,0]},J={main:S.append("g").attr("class","pbiolcBeneficiariesPanel").attr("transform","translate("+(A[3]+Q.width+ct.width+2*yt)+","+(A[0]+o.height+B.height+2*nt)+")"),width:(b-A[1]-A[3]-2*yt)*Zt,height:Nt,padding:[Ot,62,0,0],labelPadding:6},Rn=Q.main.append("clipPath").attr("id","pbiolcAllocationsPanelClip").append("rect").attr("width",Q.width).attr("height",Q.height).attr("transform","translate(0,"+-Q.padding[0]+")"),In=J.main.append("clipPath").attr("id","pbiolcBeneficiariesPanelClip").append("rect").attr("width",J.width).attr("height",J.height).attr("transform","translate(0,"+-J.padding[0]+")"),X=d3.scaleLinear().range([Q.width-Q.padding[1],Q.padding[3]]),K=d3.scaleLinear().range([J.padding[3],J.width-J.padding[1]]),At=d3.scalePoint().range([ct.padding[0],ct.height-ct.padding[2]]).padding(.5),An=d3.axisTop(X).tickSizeOuter(0).tickSizeInner(-(st*St.length)).ticks(3).tickFormat(function(a){return"$"+xe(a).replace("G","B")}),hn=d3.axisTop(K).tickSizeOuter(0).tickSizeInner(-(st*St.length)).ticks(3).tickFormat(function(a){return xe(a).replace("G","B")}),Se=Q.main.append("g").attr("class","pbiolcgroupXAxisAllocations").attr("clip-path","url(#pbiolcAllocationsPanelClip)").attr("transform","translate(0,"+Q.padding[0]+")"),Me=J.main.append("g").attr("class","pbiolcgroupXAxisBeneficiaries").attr("clip-path","url(#pbiolcBeneficiariesPanelClip)").attr("transform","translate(0,"+J.padding[0]+")"),De=d3.symbol().type(d3.symbolTriangle).size(Mt);Kt(ue)||$(ue,null),Kt(fe)||$(fe,null),Xt&&!de?Promise.all([window.cbpfbiDataObject.targetedPersonsData,window.cbpfbiDataObject.launchedAllocationsData]).then(a=>Ee(a)):Promise.all([ke(Ht+"data",Ze,"sectors data","csv"),ke("launchedAllocationsData",qe,"launched allocations data","csv")]).then(a=>Ee(a));function ke(a,l,n,r){if(localStorage.getItem(a)&&JSON.parse(localStorage.getItem(a)).timestamp>qt.getTime()-je){let e=r==="csv"?d3.csvParse(JSON.parse(localStorage.getItem(a)).data,d3.autoType):JSON.parse(localStorage.getItem(a)).data;return console.info(Ht+" chart info: "+n+" from local storage"),Promise.resolve(e)}else{let e=r==="csv"?d3.csv:d3.json,p=r==="csv"?d3.autoType:null;return e(l,p).then(c=>{try{localStorage.setItem(a,JSON.stringify({data:r==="csv"?d3.csvFormat(c):c,timestamp:qt.getTime()}))}catch(s){console.info(Ht+" chart, "+s)}return console.info(Ht+" chart info: "+n+" from API"),c})}}function Ee([a,l]){le(),k=a.map(function(r){return W["id"+r.PooledFundId]||(W["id"+r.PooledFundId]=r.PooledFundName),+r.AllocationYear}).filter(function(r,e,p){return p.indexOf(r)===e}).sort(function(r,e){return r-e}),bn(on),t.selectedModality=sn,t.selectedBeneficiary=rn,t.selectedCbpfs=yn(ln),dn?(d3.select(window).on("scroll.pbiolc",n),d3.select("body").on("d3ChartsYear.pbiolc",function(){t.selectedYear=[Ie(+d3.event.detail)]}),n()):Re(a,l);function n(){let r=C.node().getBoundingClientRect();r.bottom<0||r.top-We>0||(d3.select(window).on("scroll.pbiolc",null),Re(a,l))}}function Re(a,l){let n=ie(a,l);oe(n),ht(n),r(),p(),Xt||vn(),c(),s(),v(),T(),L(),e(),Ye(),nn&&Qe();function r(){let i=pn.append("p").attr("id","pbiolcd3chartTitle").html(Pe),u=lt.append("button").attr("id","pbiolcHelpButton");u.html("HELP  ").append("span").attr("class","fas fa-info");let y=lt.append("button").attr("id","pbiolcDownloadButton");y.html(".CSV  ").append("span").attr("class","fas fa-download");let d=lt.append("div").attr("class","pbiolcSnapshotDiv");d.append("button").attr("id","pbiolcSnapshotButton").html("IMAGE ").append("span").attr("class","fas fa-camera");let f=d.append("div").attr("class","pbiolcSnapshotContent"),G=f.append("p").attr("id","pbiolcSnapshotPdfText").html("Download PDF").on("click",function(){Wt("pdf",!1)}),h=f.append("p").attr("id","pbiolcSnapshotPngText").html("Download Image (PNG)").on("click",function(){Wt("png",!1)}),R=lt.append("button").datum({clicked:!1}).attr("id","pbiolcPlayButton");if(R.html("PLAY  ").append("span").attr("class","fas fa-play"),R.on("click",function(z){z.clicked=!z.clicked,R.html(z.clicked?"PAUSE ":"PLAY  ").append("span").attr("class",z.clicked?"fas fa-pause":"fas fa-play"),z.clicked?(t.selectedYear.length=1,U(),Be=d3.interval(U,3*E)):Be.stop();function U(){let V=k.indexOf(t.selectedYear[0]);if(t.selectedYear[0]=k[(V+1)%k.length],d3.selectAll(".pbiolcbuttonsRects").filter(function(g){return g===t.selectedYear[0]}).dispatch("click"),k.length>N){let g=t.selectedYear[0]<k[N/2]?0:t.selectedYear[0]>k[k.length-N/2]?k.length-N:k.indexOf(t.selectedYear[0])-N/2,m=-(o.buttonWidth*g);m===0?(S.select(".pbiolcLeftArrowGroup").select("text").style("fill","#ccc"),S.select(".pbiolcLeftArrowGroup").attr("pointer-events","none")):(S.select(".pbiolcLeftArrowGroup").select("text").style("fill","#666"),S.select(".pbiolcLeftArrowGroup").attr("pointer-events","all")),Math.abs(m)>=(k.length-N)*o.buttonWidth?(S.select(".pbiolcRightArrowGroup").select("text").style("fill","#ccc"),S.select(".pbiolcRightArrowGroup").attr("pointer-events","none")):(S.select(".pbiolcRightArrowGroup").select("text").style("fill","#666"),S.select(".pbiolcRightArrowGroup").attr("pointer-events","all")),S.select(".pbiolcbuttonsGroup").transition().duration(E).attrTween("transform",function(){return d3.interpolateString(this.getAttribute("transform"),"translate("+m+",0)")})}}}),!de){let z=lt.append("button").attr("id","pbiolcShareButton");z.html("SHARE  ").append("span").attr("class","fas fa-share");let U=C.append("div").attr("class","d3chartShareDiv").style("display","none");z.on("mouseover",function(){U.html("Click to copy").style("display","block");let V=this.getBoundingClientRect(),w=C.node().getBoundingClientRect(),g=U.node().getBoundingClientRect(),m=V.top-w.top-(g.height-V.height)/2,M=V.left-w.left-g.width-12;U.style("top",m+"px").style("left",M+"20px")}).on("mouseout",function(){U.style("display","none")}).on("click",function(){let V=_e+I.toString();U.append("input").attr("type","text").attr("readonly",!0).attr("spellcheck","false").property("value",V).node().select(),document.execCommand("copy"),U.html("Copied!");let g=this.getBoundingClientRect(),m=C.node().getBoundingClientRect(),M=U.node().getBoundingClientRect(),D=g.left-m.left-M.width-12;U.style("left",D+"20px")})}if(Te){let z=f.append("p").attr("id","pbiolcBestVisualizedText").html("For best results use Chrome, Firefox, Opera or Chromium-based Edge.").attr("pointer-events","none").style("cursor","default")}d.on("mouseover",function(){f.style("display","block")}).on("mouseout",function(){f.style("display","none")}),ne.html("Select CBPF:"),u.on("click",Qe),y.on("click",function(){let z=mn(a),V="SectorsOverview_"+$t(new Date)+".csv",w=new Blob([z],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(w,filename);else{let g=document.createElement("a");if(g.download!==void 0){let m=URL.createObjectURL(w);g.setAttribute("href",m),g.setAttribute("download",V),g.style="visibility:hidden",document.body.appendChild(g),g.click(),document.body.removeChild(g)}}})}function e(){let i=S.selectAll(".pbiolcAllocationLegendGroup").data([!0]);i=i.enter().append("g").attr("class","pbiolcAllocationLegendGroup").attr("transform","translate("+A[3]+","+(ft-A[2]+ye)+")").merge(i);let u=S.selectAll(".pbiolcBeneficiariesLegendGroup").data([!0]);u=u.enter().append("g").attr("class","pbiolcBeneficiariesLegendGroup").attr("transform","translate("+(A[3]+Q.width+ct.width+2*yt)+","+(ft-A[2]+ye)+")").merge(u),i.selectAll("*").remove(),u.selectAll("*").remove(),console.log(i.size());let y=i.append("text").attr("class","pbiolcLegendText").attr("x",Q.width).attr("text-anchor","end").text("Figures represent: ").append("tspan").style("font-weight","bold").style("fill","#666").text((t.selectedModality==="total"?"":Ct(t.selectedModality)+" ")+"Allocations in sector ").append("tspan").style("font-weight","normal").text("(").append("tspan").style("font-weight","bold").text("% of total").append("tspan").style("font-weight","normal").style("fill","#666").text(")"),d=i.append("text").attr("class","pbiolcLegendText").attr("x",Q.width).attr("y",12).attr("text-anchor","end").text("The arrow (").append("tspan").style("fill","black").text("\u25B2").append("tspan").style("fill","#666").text(") indicates the standard allocation amount."),P=u.append("text").attr("class","pbiolcLegendText").text("Figures represent: ").append("tspan").style("font-weight","bold").style("fill","#666").text((t.selectedBeneficiary==="actual"?"Reached":"Targeted")+" people in sector ").append("tspan").style("font-weight","normal").text("(").append("tspan").style("font-weight","bold").text("% of the total").append("tspan").style("font-weight","normal").style("fill","#666").text(")"),f=u.append("text").attr("class","pbiolcLegendText").attr("y",12).text("The arrow (").append("tspan").style("fill","black").text("\u25B2").append("tspan").style("fill","#666").text(") indicates the number of reached persons.")}function p(){let i=d3.keys(W);i.unshift("All CBPFs");let u=jt.selectAll(null).data(i).enter().append("div").attr("class","pbiolcCheckboxDiv");u.filter(function(h){return h!=="All CBPFs"}).style("opacity",function(h){return t.cbpfsInData.indexOf(h)===-1?we:1});let y=u.append("label"),d=y.append("input").attr("type","checkbox").property("checked",function(h){return t.selectedCbpfs.length!==d3.keys(W).length&&t.selectedCbpfs.indexOf(h)>-1}).attr("value",function(h){return h}),P=y.append("span").attr("class","pbiolcCheckboxText").html(function(h){return W[h]||h}),f=u.filter(function(h){return h==="All CBPFs"}).select("input");d3.select(f.node().nextSibling).attr("class","pbiolcCheckboxTextAllCbpfs");let G=u.filter(function(h){return h!=="All CBPFs"}).select("input");G.property("disabled",function(h){return t.cbpfsInData.indexOf(h)===-1}),f.property("checked",function(){return t.selectedCbpfs.length===d3.keys(W).length}),y.select("input").on("change",function(){if(this.value==="All CBPFs")this.checked?(t.selectedCbpfs=d3.keys(W),G.property("checked",!1)):t.selectedCbpfs.length=0;else{if(this.checked)t.selectedCbpfs.length===d3.keys(W).length?t.selectedCbpfs=[this.value]:t.selectedCbpfs.push(this.value);else{let h=t.selectedCbpfs.indexOf(this.value);t.selectedCbpfs.splice(h,1)}f.property("checked",!1)}if(!t.selectedCbpfs.length||t.selectedCbpfs.length===d3.keys(W).length)I.delete("fund");else{let h=t.selectedCbpfs.map(function(R){return W[R]}).join("|");I.has("fund")?I.set("fund",h):I.append("fund",h)}n=ie(a,l),oe(n),ht(n),c(),v(),T(),L()})}function c(){let i=t.selectedYear.sort(function(m,M){return m-M}).filter(function(m){return kt[m]}),u=i.reduce(function(m,M,D){return m+(D>=i.length-2?D>i.length-2?M:M+" and ":M+", ")},"");ae.style("opacity",t.selectedYear.some(m=>kt[m])?1:0).html("Launched Allocations in "+u+": "),ae.append("span").classed("contributionColorHTMLcolor",!0).html("$"+Yt(Et.launched).replace("k"," Thousand").replace("M"," Million").replace("G"," Billion"));let y=d3.sum(n,function(m){return m[t.selectedModality]}),d=d3.sum(n,function(m){return m[t.selectedModality+t.selectedBeneficiary]}),P=B.main.selectAll(".pbiolctopPanelMoneyBag").data([!0]).enter().append("g").attr("class","pbiolctopPanelMoneyBag contributionColorFill").attr("transform","translate("+B.moneyBagPadding+",6) scale(0.5)").each(function(m,M,D){tn.forEach(function(j){d3.select(D[M]).append("path").attr("d",j)})}),f=d3.select(".pbiolctopPanelMainValue").size()!==0?d3.select(".pbiolctopPanelMainValue").datum():0,G=d3.select(".pbiolctopPanelPersonsNumber").size()!==0?d3.select(".pbiolctopPanelPersonsNumber").datum():0,h=B.main.selectAll(".pbiolcmainValueGroup").data([!0]);h=h.enter().append("g").attr("class","pbiolcmainValueGroup").merge(h);let R=h.selectAll(".pbiolctopPanelMainValue").data([y]);R=R.enter().append("text").attr("class","pbiolctopPanelMainValue contributionColorFill").attr("text-anchor","end").merge(R).attr("y",B.height-B.mainValueVerPadding).attr("x",B.moneyBagPadding+B.leftPadding[0]-B.mainValueHorPadding),R.transition().duration(E).tween("text",function(m){let M=this,D=d3.interpolate(f,m);return function(j){let dt=Yt(D(j));M.textContent="$"+(D(j)<1e3?~~D(j):dt.substring(0,dt.length-1))}}).on("end",function(){let m=this.getBoundingClientRect(),M=C.node().getBoundingClientRect(),D=m.left-M.left;ae.style("padding-left",D+"px","important")});let z=h.selectAll(".pbiolctopPanelMainText").data([y]);z=z.enter().append("text").attr("class","pbiolctopPanelMainText").style("opacity",0).attr("text-anchor","start").merge(z).attr("y",B.height-B.mainValueVerPadding*3.1).attr("x",B.moneyBagPadding+B.leftPadding[0]+B.mainValueHorPadding),z.transition().duration(E).style("opacity",1).text(function(m){let M=t.selectedYear.length===1?t.selectedYear[0]:"years*",D=Yt(m),j=D[D.length-1];return(j==="k"?"Thousand":j==="M"?"Million":j==="G"?"Billion":"")+" Allocated in "+M});let U=h.selectAll(".pbiolctopPanelSubText").data([!0]);U=U.enter().append("text").attr("class","pbiolctopPanelSubText").style("opacity",0).attr("text-anchor","start").merge(U).attr("y",B.height-B.mainValueVerPadding*1.2).attr("x",B.moneyBagPadding+B.leftPadding[0]+B.mainValueHorPadding),U.transition().duration(E).style("opacity",1).text("("+Ct(t.selectedModality)+" Allocations)");let V=h.selectAll(".pbiolctopPanelPersonsNumber").data([d]);V=V.enter().append("text").attr("class","pbiolctopPanelPersonsNumber contributionColorFill").attr("text-anchor","end").merge(V).attr("y",B.height-B.mainValueVerPadding).attr("x",B.moneyBagPadding+B.leftPadding[1]-B.mainValueHorPadding),V.transition().duration(E).tween("text",function(m){let M=this,D=d3.interpolate(G,m);return function(j){let dt=Yt(D(j));M.textContent=D(j)<1e3?~~D(j):dt.substring(0,dt.length-1)}});let w=h.selectAll(".pbiolctopPanelPersonsText").data([d]);w=w.enter().append("text").attr("class","pbiolctopPanelPersonsText").style("opacity",0).attr("text-anchor","start").merge(w).attr("y",B.height-B.mainValueVerPadding*3.1).attr("x",B.moneyBagPadding+B.leftPadding[1]+B.mainValueHorPadding),w.transition().duration(E).style("opacity",1).text(function(m){let M=Yt(m),D=M[M.length-1];return(D==="k"?"Thousand":D==="M"?"Million":D==="G"?"Billion":"")+" People"});let g=h.selectAll(".pbiolctopPanelPersonsTextSubText").data([!0]);g=g.enter().append("text").attr("class","pbiolctopPanelPersonsTextSubText").attr("y",B.height-B.mainValueVerPadding*1.2).attr("x",B.moneyBagPadding+B.leftPadding[1]+B.mainValueHorPadding).attr("text-anchor","start").merge(g).text(function(){let m=t.selectedYear.length===1?t.selectedYear[0]:"years*";return(t.selectedBeneficiary==="actual"?"Reached":"Targeted")+" in "+m})}function s(){let i=o.main.append("clipPath").attr("id","pbiolcclipPathButtons").append("rect").attr("width",N*o.buttonWidth).attr("height",o.height),y=o.main.append("g").attr("class","pbiolcClipPathGroup").attr("transform","translate("+(o.padding[3]+o.arrowPadding)+",0)").attr("clip-path","url(#pbiolcclipPathButtons)").append("g").attr("class","pbiolcbuttonsGroup").attr("transform","translate(0,0)").style("cursor","pointer"),d=y.selectAll(null).data(k).enter().append("rect").attr("rx","2px").attr("ry","2px").attr("class","pbiolcbuttonsRects").attr("width",o.buttonWidth-o.buttonPadding).attr("height",o.height-o.padding[0]-o.buttonVerticalPadding*2).attr("y",o.padding[0]+o.buttonVerticalPadding).attr("x",function(x,Z){return Z*o.buttonWidth+o.buttonPadding/2}).style("fill",function(x){return t.selectedYear.indexOf(x)>-1?pt:"#eaeaea"}),P=y.selectAll(null).data(k).enter().append("text").attr("text-anchor","middle").attr("class","pbiolcbuttonsText").attr("y",o.height-2.8*o.buttonVerticalPadding).attr("x",function(x,Z){return Z*o.buttonWidth+o.buttonWidth/2}).style("fill",function(x){return t.selectedYear.indexOf(x)>-1?"white":"#444"}).text(function(x){return x}),f=o.main.append("g").attr("class","pbiolcLeftArrowGroup").style("cursor","pointer").style("opacity",0).attr("pointer-events","none").attr("transform","translate("+o.padding[3]+",0)"),G=f.append("rect").style("fill","white").attr("width",o.arrowPadding).attr("height",o.height-o.padding[0]-o.buttonVerticalPadding*2).attr("y",o.padding[0]+o.buttonVerticalPadding),h=f.append("text").attr("class","pbiolcleftArrowText").attr("x",0).attr("y",o.height-o.buttonVerticalPadding*2.1).style("fill","#666").text("\u25C4"),R=o.main.append("g").attr("class","pbiolcRightArrowGroup").style("cursor","pointer").style("opacity",0).attr("pointer-events","none").attr("transform","translate("+(o.padding[3]+o.arrowPadding+N*o.buttonWidth)+",0)"),z=R.append("rect").style("fill","white").attr("width",o.arrowPadding).attr("height",o.height-o.padding[0]-o.buttonVerticalPadding*2).attr("y",o.padding[0]+o.buttonVerticalPadding),U=R.append("text").attr("class","pbiolcrightArrowText").attr("x",-1).attr("y",o.height-o.buttonVerticalPadding*2.1).style("fill","#666").text("\u25BA");k.length>N&&(R.style("opacity",1).attr("pointer-events","all"),f.style("opacity",1).attr("pointer-events","all"),Fe(),Tn(),f.on("click",function(){f.attr("pointer-events","none");let x=Jt(y.attr("transform"))[0];R.select("text").style("fill","#666"),R.attr("pointer-events","all"),y.transition().duration(E).attr("transform","translate("+Math.min(0,x+N*o.buttonWidth)+",0)").on("end",re)}),R.on("click",function(){R.attr("pointer-events","none");let x=Jt(y.attr("transform"))[0];f.select("text").style("fill","#666"),f.attr("pointer-events","all"),y.transition().duration(E).attr("transform","translate("+Math.max(-((k.length-N)*o.buttonWidth),-(Math.abs(x)+N*o.buttonWidth))+",0)").on("end",re)}));let V=o.main.append("g").attr("class","pbiolcbuttonsModalitiesGroup").style("cursor","pointer"),w=V.selectAll(null).data(zt).enter().append("rect").attr("rx","2px").attr("ry","2px").attr("class","pbiolcbuttonsModalitiesRects").attr("width",o.buttonModalitiesWidth-o.buttonPadding).attr("height",o.height-o.padding[0]-o.buttonVerticalPadding*2).attr("y",o.padding[0]+o.buttonVerticalPadding).attr("x",function(x,Z){return Z*o.buttonModalitiesWidth+o.buttonPadding/2}).style("fill",function(x){return x===t.selectedModality?pt:"#eaeaea"}),g=V.selectAll(null).data(zt).enter().append("text").attr("text-anchor","middle").attr("class","pbiolcbuttonsModalitiesText").attr("y",o.height-2.8*o.buttonVerticalPadding).attr("x",function(x,Z){return Z*o.buttonModalitiesWidth+o.buttonModalitiesWidth/2}).style("fill",function(x){return x===t.selectedModality?"white":"#444"}).text(function(x){return Ct(x)}),m=Math.min(o.padding[3]+o.arrowPadding+y.node().getBoundingClientRect().width,o.padding[3]+N*o.buttonWidth+2*o.arrowPadding),M=V.node().getBoundingClientRect().width,D=m+(o.beneficiariesPadding-m-M)/2;V.attr("transform","translate("+D+",0)");let j=o.main.append("g").attr("class","pbiolcbuttonsBeneficiariesGroup").attr("transform","translate("+o.beneficiariesPadding+",0)").style("cursor","pointer"),dt=j.selectAll(null).data(Ut).enter().append("rect").attr("rx","2px").attr("ry","2px").attr("class","pbiolcbuttonsBeneficiariesRects").attr("width",o.buttonBeneficiariesWidth-o.buttonPadding).attr("height",o.height-o.padding[0]-o.buttonVerticalPadding*2).attr("y",o.padding[0]+o.buttonVerticalPadding).attr("x",function(x,Z){return Z*o.buttonBeneficiariesWidth+o.buttonPadding/2}).style("fill",function(x){return x===t.selectedBeneficiary?pt:"#eaeaea"}),Yn=j.selectAll(null).data(Ut).enter().append("text").attr("text-anchor","middle").attr("class","pbiolcbuttonsBeneficiariesText").attr("y",o.height-2.8*o.buttonVerticalPadding).attr("x",function(x,Z){return Z*o.buttonBeneficiariesWidth+o.buttonBeneficiariesWidth/2}).style("fill",function(x){return x===t.selectedBeneficiary?"white":"#444"}).text(function(x){return Ct(x==="actual"?"reached":x)});d.on("mouseover",function(x){bt(x,this,"year")}).on("mouseout",Lt).on("click",function(x){let Z=this;if(d3.event.altKey){Y(x,!1);return}Dt.get(this)!=="clicked"?(Dt.set(this,"clicked"),setTimeout(function(){Dt.get(Z)==="clicked"&&Y(x,!0),Dt.set(Z,null)},250)):(Y(x,!1),Dt.set(this,null))}),d3.select("body").on("d3ChartsYear.pbiolc",function(){Y(Ie(+d3.event.detail),!0),k.length>N&&(Fe(),re())}),w.on("mouseover",function(x){bt(x,this,"modality")}).on("mouseout",F).on("click",at),dt.on("mouseover",function(x){bt(x,this,"beneficiary")}).on("mouseout",O).on("click",gt);function re(){let x=Jt(y.attr("transform"))[0];x===0?(f.select("text").style("fill","#ccc"),f.attr("pointer-events","none")):(f.select("text").style("fill","#666"),f.attr("pointer-events","all")),Math.abs(x)>=(k.length-N)*o.buttonWidth?(R.select("text").style("fill","#ccc"),R.attr("pointer-events","none")):(R.select("text").style("fill","#666"),R.attr("pointer-events","all"))}function Tn(){let x=Jt(y.attr("transform"))[0];x===0&&(f.select("text").style("fill","#ccc"),f.attr("pointer-events","none")),Math.abs(x)>=(k.length-N)*o.buttonWidth&&(R.select("text").style("fill","#ccc"),R.attr("pointer-events","none"))}function Fe(){let x=t.selectedYear[0]<k[N/2]?0:t.selectedYear[0]>k[k.length-N/2]?k.length-N:k.indexOf(t.selectedYear[0])-N/2;y.attr("transform","translate("+-(o.buttonWidth*x)+",0)")}}function v(){n.some(h=>h.cluster==="COVID-19")?d3.select(".pbiolccovidDisclaimer").style("display",null):d3.select(".pbiolccovidDisclaimer").style("display","none");let i=ct.main.selectAll(".pbiolcLabelGroup").data(n,function(h){return h.clusterKey}),u=i.exit().transition().duration(E).style("opacity",0).remove(),y=i.enter().append("g").attr("class","pbiolcLabelGroup").attr("transform",function(h){return"translate(0,"+At(h.cluster)+")"}),d=y.append("text").attr("class","pbiolcLabelGroupText").attr("text-anchor","middle").attr("y",wt/5).attr("x",ct.width/2+wt/2).text(function(h){return h.cluster}),P=y.append("image").attr("width",wt+"px").attr("height",wt+"px").attr("x",function(){return(ct.width-this.previousSibling.getComputedTextLength())/2-wt/2-Je}).attr("y",-(wt/2)).attr("xlink:href",function(h){return en[h.cluster]}),f=y.append("rect").attr("class","pbiolcLabelsTooltipRectangle").attr("y",-st/2).attr("height",st).attr("width",ct.width).style("fill","none").attr("pointer-events","all");i.transition().duration(E).attr("transform",function(h){return"translate(0,"+At(h.cluster)+")"}),i=y.merge(i),i.select(".pbiolcLabelsTooltipRectangle").on("mouseover",it).on("mouseout",Pt)}function T(){let i=d3.sum(n,function(w){return w[t.selectedModality]}),u=Q.main.selectAll(".pbiolcAllocationsPanelTitle").data([!0]).enter().append("text").attr("cursor","pointer").attr("class","pbiolcAllocationsPanelTitle").attr("text-anchor","end").attr("y",Q.padding[0]-Vt).attr("x",X(0)).text("Allocations in US$").append("tspan").attr("class","pbiolcAllocationsPanelSubTitle").text(" (% of total)");Q.main.select(".pbiolcAllocationsPanelTitle").on("mouseover",function(){et("value of allocations.",this)}).on("mouseout",_);let y=Q.main.selectAll(".pbiolcSortByAllocations").data([!0]);y=y.enter().append("text").attr("class","pbiolcSortByAllocations").attr("y",Q.padding[0]-Vt).attr("x",X(0)+be).attr("cursor","pointer").text("\u2190 sort by").merge(y).style("opacity",t.sorting==="allocations"?1:0);let d=Q.main.selectAll(".pbiolcAllocationsGroup").data(n,function(w){return w.clusterKey}),P=d.exit().transition().duration(E).style("opacity",0).remove(),f=d.enter().append("g").attr("class","pbiolcAllocationsGroup").attr("transform",function(w){return"translate(0,"+At(w.cluster)+")"}),G=f.append("rect").attr("class","pbiolcAllocationsStick").attr("x",X(0)).attr("y",-(tt/4)).attr("height",tt).attr("width",0).classed("contributionColorFill",!0),h=f.append("circle").attr("class","pbiolcAllocationsLollipop").attr("cx",X(0)).attr("cy",tt/4).attr("r",xt).classed("contributionColorFill",!0),R=f.append("path").attr("class","pbiolcAllocationsPaidIndicator").attr("d",De).style("opacity",t.selectedModality==="total"?1:0).attr("transform","translate("+X(0)+","+(Math.sqrt(4*Mt/Math.sqrt(3))/2+tt)+")"),z=f.append("text").attr("class","pbiolcAllocationsLabel").attr("text-anchor","end").attr("x",X(0)-Q.labelPadding).attr("y",ve).text(me(0)),U=f.append("rect").attr("class","pbiolcAllocationsTooltipRectangle").attr("y",-st/2).attr("height",st).attr("width",Q.width).style("fill","none").attr("pointer-events","all");d=f.merge(d),d.transition().duration(E).attr("transform",function(w){return"translate(0,"+At(w.cluster)+")"}),d.select(".pbiolcAllocationsStick").transition().duration(E).attr("x",function(w){return X(w[t.selectedModality])}).attr("width",function(w){return X.range()[0]-X(w[t.selectedModality])}),d.select(".pbiolcAllocationsLollipop").transition().duration(E).attr("cx",function(w){return X(w[t.selectedModality])}),d.select(".pbiolcAllocationsPaidIndicator").transition().duration(E).style("opacity",t.selectedModality==="total"?1:0).attr("transform",function(w){let g=X(w.standard)-X(w.total)<xt?xt-tt/2:0;return"translate("+X(w.standard)+","+(Math.sqrt(4*Mt/Math.sqrt(3))/2+tt+g)+")"}),d.select(".pbiolcAllocationsLabel").transition().duration(E).attr("x",function(w){return X(w[t.selectedModality])-Q.labelPadding}).tween("text",function(w){let g=this,m=rt(w[t.selectedModality]/i),M=w[t.selectedModality]===0?"":" ("+(m==="0%"?"<1%":m)+")",D=d3.interpolate(Le(g.textContent)||0,w[t.selectedModality]);return function(j){d3.select(g).text(d3.formatPrefix(".0",w[t.selectedModality])(D(j)).replace("G","B")).append("tspan").attr("class","pbiolcAllocationsLabelPercentage").attr("dy","-0.5px").text(M)}}),d.select(".pbiolcAllocationsTooltipRectangle").on("mouseover",it).on("mouseout",Pt),Se.transition().duration(E).call(An),Se.selectAll(".tick").filter(function(w){return w===0}).remove()}function L(){let i=d3.sum(n,function(g){return g[t.selectedModality+t.selectedBeneficiary]}),u=J.main.selectAll(".pbiolcBeneficiariesPanelTitle").data([!0]);u=u.enter().append("text").attr("cursor","pointer").attr("class","pbiolcBeneficiariesPanelTitle").attr("y",J.padding[0]-Vt).attr("x",K(0)).merge(u).text("People "+(t.selectedBeneficiary==="actual"?"Reached":"Targeted")+" in numbers");let y=u.selectAll(".pbiolcBeneficiariesPanelSubTitleSpan").data([!0]).enter().append("tspan").attr("class","pbiolcBeneficiariesPanelSubTitle pbiolcBeneficiariesPanelSubTitleSpan").text(" (% of total)");J.main.select(".pbiolcBeneficiariesPanelTitle").on("mouseover",function(){et("number of beneficiaries.",this)}).on("mouseout",_);let d=J.main.selectAll(".pbiolcSortByBeneficiaries").data([!0]);d=d.enter().append("text").attr("class","pbiolcSortByBeneficiaries").attr("y",J.padding[0]-Vt).attr("x",K(0)-be).attr("text-anchor","end").attr("cursor","pointer").text("sort by \u2192").merge(d).style("opacity",t.sorting==="beneficiaries"?1:0);let P=J.main.selectAll(".pbiolcBeneficiariesGroup").data(n,function(g){return g.clusterKey}),f=P.exit().transition().duration(E).style("opacity",0).remove(),G=P.enter().append("g").attr("class","pbiolcBeneficiariesGroup").attr("transform",function(g){return"translate(0,"+At(g.cluster)+")"}),h=G.append("rect").attr("class","pbiolcBeneficiariesStick").attr("x",K(0)).attr("y",-(tt/4)).attr("height",tt).attr("width",0).classed("contributionColorFill",!0),R=G.append("circle").attr("class","pbiolcBeneficiariesLollipop").attr("cx",K(0)).attr("cy",tt/4).attr("r",xt).classed("contributionColorFill",!0),z=G.append("path").attr("class","pbiolcBeneficiariesStandardIndicator").attr("d",De).style("opacity",t.selectedModality==="total"?1:0).attr("transform","translate("+K(0)+","+(Math.sqrt(4*Mt/Math.sqrt(3))/2+tt)+")"),U=G.append("text").attr("class","pbiolcBeneficiariesLabel").attr("x",K(0)+J.labelPadding).attr("y",ve).text(me(0)),V=G.append("rect").attr("class","pbiolcBeneficiariesTooltipRectangle").attr("y",-st/2).attr("height",st).attr("width",J.width).style("fill","none").attr("pointer-events","all");P=G.merge(P),P.transition().duration(E).attr("transform",function(g){return"translate(0,"+At(g.cluster)+")"}),P.select(".pbiolcBeneficiariesStick").transition().duration(E).attr("width",function(g){return K(g[t.selectedModality+t.selectedBeneficiary])-J.padding[3]}),P.select(".pbiolcBeneficiariesLollipop").transition().duration(E).attr("cx",function(g){return K(g[t.selectedModality+t.selectedBeneficiary])}),P.select(".pbiolcBeneficiariesStandardIndicator").transition().duration(E).style("opacity",t.selectedBeneficiary==="targeted"?1:0).attr("transform",function(g){let m=K(g[t.selectedModality+"targeted"])-K(g[t.selectedModality+"actual"])<xt?xt-tt/2:0;return"translate("+Math.min(K(g[t.selectedModality+"actual"]),K(g[t.selectedModality+"targeted"]))+","+(Math.sqrt(4*Mt/Math.sqrt(3))/2+tt+m)+")"}),P.select(".pbiolcBeneficiariesLabel").transition().duration(E).attr("x",function(g){return K(g[t.selectedModality+t.selectedBeneficiary])+J.labelPadding}).tween("text",function(g){let m=this,M=rt(g[t.selectedModality+t.selectedBeneficiary]/i),D=g[t.selectedModality+t.selectedBeneficiary]===0?"":" ("+(M==="0%"?"<1%":M)+")",j=d3.interpolate(Le(m.textContent)||0,g[t.selectedModality+t.selectedBeneficiary]);return function(dt){d3.select(m).text(d3.formatPrefix(".0",g[t.selectedModality+t.selectedBeneficiary])(j(dt)).replace("G","B")).append("tspan").attr("class","pbiolcBeneficiariesLabelPercentage").attr("dy","-0.5px").text(D)}}),P.select(".pbiolcBeneficiariesTooltipRectangle").on("mouseover",it).on("mouseout",Pt),Me.transition().duration(E).call(hn),Me.selectAll(".tick").filter(function(g){return g===0}).remove()}function Y(i,u){if(u)t.selectedYear=[i];else{let d=t.selectedYear.indexOf(i);if(d>-1){if(t.selectedYear.length===1)return;t.selectedYear.splice(d,1)}else t.selectedYear.push(i)}let y=t.selectedYear.map(function(d){return d}).join("|");I.has("year")?I.set("year",y):I.append("year",y),d3.selectAll(".pbiolcbuttonsRects").style("fill",function(d){return t.selectedYear.indexOf(d)>-1?pt:"#eaeaea"}),d3.selectAll(".pbiolcbuttonsText").style("fill",function(d){return t.selectedYear.indexOf(d)>-1?"white":"#444"}),Ye(),n=ie(a,l),jt.selectAll(".pbiolcCheckboxDiv").filter(function(d){return d!=="All CBPFs"}).select("input").property("disabled",function(d){return t.cbpfsInData.indexOf(d)===-1}),jt.selectAll(".pbiolcCheckboxDiv").filter(function(d){return d!=="All CBPFs"}).style("opacity",function(d){return t.cbpfsInData.indexOf(d)===-1?we:1}),oe(n),ht(n),c(),v(),T(),L()}function at(i){t.selectedModality=i,I.has("modality")?I.set("modality",i):I.append("modality",i),d3.selectAll(".pbiolcbuttonsModalitiesRects").style("fill",function(u){return u===t.selectedModality?pt:"#eaeaea"}),d3.selectAll(".pbiolcbuttonsModalitiesText").style("fill",function(u){return u===t.selectedModality?"white":"#444"}),e(),ht(n),c(),v(),T(),L()}function gt(i){t.selectedBeneficiary=i,I.has("persons")?I.set("persons",i):I.append("persons",i),d3.selectAll(".pbiolcbuttonsBeneficiariesRects").style("fill",function(u){return u===t.selectedBeneficiary?pt:"#eaeaea"}),d3.selectAll(".pbiolcbuttonsBeneficiariesText").style("fill",function(u){return u===t.selectedBeneficiary?"white":"#444"}),e(),t.sorting==="beneficiaries"&&ht(n),K.domain([0,Math.max(1e3,d3.max(n,function(u){return u["total"+t.selectedBeneficiary]}))*ee]),c(),v(),L()}S.selectAll(".pbiolcAllocationsPanelTitle").on("click",function(){H.style("display","none"),t.sorting!=="allocations"&&(t.sorting="allocations",S.select(".pbiolcSortByAllocations").style("opacity",1),S.select(".pbiolcSortByBeneficiaries").style("opacity",0),ht(n),T(),v(),L())}),S.selectAll(".pbiolcBeneficiariesPanelTitle").on("click",function(){H.style("display","none"),t.sorting!=="beneficiaries"&&(t.sorting="beneficiaries",S.select(".pbiolcSortByAllocations").style("opacity",0),S.select(".pbiolcSortByBeneficiaries").style("opacity",1),ht(n),T(),v(),L())});function bt(i,u,y){if(y==="year"){H.style("display","block").html(null),H.append("div").style("max-width","200px").attr("id","pbiolcInnerTooltipDiv").html("Click for selecting a single year. Double-click or ALT + click for selecting multiple years.");let P=C.node().getBoundingClientRect(),f=u.getBoundingClientRect();tooltipSize=H.node().getBoundingClientRect(),H.style("left",f.left+f.width/2-P.left>P.width-tooltipSize.width/2-A[1]?P.width-tooltipSize.width-A[1]+"px":f.left+f.width/2-P.left<tooltipSize.width/2+o.padding[3]+A[0]?o.padding[3]+A[0]+"px":f.left+f.width/2-P.left-tooltipSize.width/2+"px").style("top",f.top+f.height/2-P.top<tooltipSize.height?f.top-P.top+f.height+2+"px":f.top-P.top-tooltipSize.height-4+"px")}d3.select(u).style("fill",pt),d3.select(u.parentNode).selectAll("text").filter(function(d){return d===i}).style("fill","white")}function Lt(i){H.style("display","none"),!(t.selectedYear.indexOf(i)>-1)&&(d3.select(this).style("fill","#eaeaea"),d3.selectAll(".pbiolcbuttonsText").filter(function(u){return u===i}).style("fill","#444"))}function F(i){i!==t.selectedModality&&(d3.select(this).style("fill","#eaeaea"),d3.selectAll(".pbiolcbuttonsModalitiesText").filter(function(u){return u===i}).style("fill","#444"))}function O(i){i!==t.selectedBeneficiary&&(d3.select(this).style("fill","#eaeaea"),d3.selectAll(".pbiolcbuttonsBeneficiariesText").filter(function(u){return u===i}).style("fill","#444"))}function et(i,u){H.style("display","block").html("<div style='max-width:190px;'>Click here to sort the sectors according to the "+i+"</div>");let y=u.getBoundingClientRect(),d=C.node().getBoundingClientRect(),P=H.node().getBoundingClientRect(),f=y.top-d.top,G=y.left-d.left+(y.width-P.width)/2;H.style("left",G+"px").style("top",f+26+"px")}function _(){H.style("display","none")}function it(i){vt=this,S.selectAll(".pbiolcLabelGroup, .pbiolcAllocationsGroup, .pbiolcBeneficiariesGroup").style("opacity",function(G){return i.cluster===G.cluster?1:Xe}),H.style("display","block"),i.total!==0?(H.html("Sector: <strong>"+i.cluster+"</strong><br><br><div style='margin:0px 0px 6px 0px;display:flex;flex-wrap:wrap;width:"+ot+"px;'><div style='display:flex;flex:0 54%;white-space:pre;'>Total Allocated (US$):</div><div style='display:flex;flex:0 46%;justify-content:flex-end;'>$"+te(i.total)+"</div></div><div id='pbiolcAllocationsTooltipBar'></div><div style='margin:0px 0px 6px 0px;display:flex;flex-wrap:wrap;width:"+ot+"px;'><div style='display:flex;flex:0 54%;white-space:pre;'>Standard ("+rt(i.standard/i.total)+"):</div><div style='display:flex;flex:0 46%;justify-content:flex-end;'><span class='contributionColorDarkerHTMLcolor'>$"+te(i.standard)+"</span></div><div style='display:flex;flex:0 54%;white-space:pre;'>Reserve ("+rt(i.reserve/i.total)+"):</div><div style='display:flex;flex:0 46%;justify-content:flex-end;'><span class='contributionColorHTMLcolor'>$"+te(i.reserve)+"</span></div></div><br><div style='margin:0px 0px 6px 0px;display:flex;flex-wrap:wrap;width:"+ot+"px;'><div style='display:flex;flex:0 60%;white-space:pre;'>People Targeted (number):</div><div style='display:flex;flex:0 40%;justify-content:flex-end;'>"+mt(i.totaltargeted)+"</div></div><div id='pbiolcBeneficiariesTargetedTooltipBar'></div>"+(i.totaltargeted?"<div style='margin:0px 0px 6px 0px;display:flex;flex-wrap:wrap;width:"+ot+"px;'><div style='display:flex;flex:0 54%;white-space:pre;'>Standard ("+rt(i.standardtargeted/i.totaltargeted||0)+"):</div><div style='display:flex;flex:0 46%;justify-content:flex-end;'><span class='contributionColorDarkerHTMLcolor'>"+mt(i.standardtargeted)+"</span></div><div style='display:flex;flex:0 54%;white-space:pre;'>Reserve ("+rt(i.reservetargeted/i.totaltargeted||0)+"):</div><div style='display:flex;flex:0 46%;justify-content:flex-end;'><span class='contributionColorHTMLcolor'>"+mt(i.reservetargeted)+"</span></div></div>":"")+"<br><div style='margin:0px 0px 6px 0px;display:flex;flex-wrap:wrap;width:"+ot+"px;'><div style='display:flex;flex:0 55%;white-space:pre;'>People Reached (number):</div><div style='display:flex;flex:0 45%;justify-content:flex-end;'>"+mt(i.totalactual)+(i.totalactual?"<span style='font-size:10px;white-space:pre;'> ("+rt(i.totalactual/i.totaltargeted)+" of targeted)</span>":"")+"</div></div><div id='pbiolcBeneficiariesReachedTooltipBar'></div>"+(i.totalactual?"<div style='margin:0px 0px 6px 0px;display:flex;flex-wrap:wrap;width:"+ot+"px;'><div style='display:flex;flex:0 54%;white-space:pre;'>Standard ("+rt(i.standardactual/i.totalactual||0)+"):</div><div style='display:flex;flex:0 46%;justify-content:flex-end;'><span class='contributionColorDarkerHTMLcolor'>"+mt(i.standardactual)+"</span></div><div style='display:flex;flex:0 54%;white-space:pre;'>Reserve ("+rt(i.reserveactual/i.totalactual||0)+"):</div><div style='display:flex;flex:0 46%;justify-content:flex-end;'><span class='contributionColorHTMLcolor'>"+mt(i.reserveactual)+"</span></div></div>":"")),se(i,"pbiolcAllocationsTooltipBar",ot,"total","standard","reserve"),i.totaltargeted&&se(i,"pbiolcBeneficiariesTargetedTooltipBar",ot,"totaltargeted","standardtargeted","reservetargeted"),i.totalactual&&se(i,"pbiolcBeneficiariesReachedTooltipBar",ot,"totalactual","standardactual","reserveactual")):H.html("Sector: <strong>"+i.cluster+"</strong><br><br><div style='margin:0px 0px 6px 0px;display:flex;flex-wrap:wrap;width:"+ot+"px;'><div style='display:flex;flex:0 54%;white-space:pre;'>Total Allocated:</div><div style='display:flex;flex:0 46%;justify-content:flex-end;'>No Value Allocated</div></div>");let u=this.getBoundingClientRect(),y=C.node().getBoundingClientRect(),d=H.node().getBoundingClientRect(),P=u.top-y.top,f=b/2-d.width/2;H.style("left",f+"px").style("top",y.bottom-u.bottom<d.height?P-d.height-6+"px":P+28+"px")}function Pt(){Rt||(vt=null,S.selectAll(".pbiolcLabelGroup, .pbiolcAllocationsGroup, .pbiolcBeneficiariesGroup").style("opacity",1),H.style("display","none"))}function se(i,u,y,d,P,f){let G=d3.select("#"+u);G.style("margin-bottom","4px").style("margin-top","4px").style("width",y+"px");let h=d3.scaleLinear().domain([0,i[d]]).range([0,y]);G.append("div").style("float","left").classed("contributionColorDarkerHTMLbc",!0).style("height","14px").style("width","0px").style("border-right",h(i[P])<1?"0px solid white":"1px solid white").transition().duration(E/4).style("width",h(i[P])+"px"),G.append("div").classed("contributionColorHTMLbc",!0).style("margin-left","0px").style("height","14px").style("width","0px").transition().duration(E/4).style("margin-left",h(i[P])+1+"px").style("width",h(i[f])+"px")}}function gn(a,l,n){return n===0?{underApprovalPercent:0,underPlusApprovedPercent:0}:{underApprovalPercent:a/n*100,underPlusApprovedPercent:(a+l)/n*100}}function ie(a,l){Et.launched=0,Et.underApproval=0;for(let s in kt)delete kt[s];let n={},r=t.selectedCbpfs.length===d3.keys(W).length;l.forEach(function(s){t.selectedYear.includes(s.AllocationYear)&&(r||t.selectedCbpfs.includes("id"+s.PooledFundId))&&(n[s.AllocationYear]={underApproval:(n[s.AllocationYear]?n[s.AllocationYear].underApproval:0)+s.TotalUnderApprovalBudget,approved:(n[s.AllocationYear]?n[s.AllocationYear].approved:0)+s.TotalApprovedBudget,launched:(n[s.AllocationYear]?n[s.AllocationYear].launched:0)+s.TotalUSDPlanned},Et.launched+=s.TotalUSDPlanned,Et.underApproval+=s.TotalUnderApprovalBudget)});for(let s in n){let{underApprovalPercent:v,underPlusApprovedPercent:T}=gn(n[s].underApproval,n[s].approved,n[s].launched);kt[s]=v>Ce||T<Ce}t.cbpfsInData.length=0;let p=(t.selectedYear.indexOf(2020)>-1?St:St.filter(function(s){return s!=="COVID-19"})).map(function(s){return{cluster:s,clusterKey:s.replace(/\W/g,""),standard:0,reserve:0,total:0,standardactual:0,reserveactual:0,totalactual:0,standardtargeted:0,reservetargeted:0,totaltargeted:0}});return a.forEach(function(s){t.selectedYear.indexOf(+s.AllocationYear)>-1&&t.cbpfsInData.indexOf("id"+s.PooledFundId)===-1&&t.cbpfsInData.push("id"+s.PooledFundId)}),a.filter(function(s){return t.selectedYear.indexOf(+s.AllocationYear)>-1&&t.selectedCbpfs.indexOf("id"+s.PooledFundId)>-1}).forEach(function(s){let v=p.find(function(T){return T.cluster===s.Cluster});v&&(s.AllocationSourceName==="Standard"?(v.standard+=+s.BudgetByCluster,v.total+=+s.BudgetByCluster,v.standardactual+=~~+s.BeneficiariesActualTotal,v.totalactual+=~~+s.BeneficiariesActualTotal,v.standardtargeted+=~~+s.BeneficiariesPlannedTotal,v.totaltargeted+=~~+s.BeneficiariesPlannedTotal):(v.reserve+=+s.BudgetByCluster,v.total+=+s.BudgetByCluster,v.reserveactual+=~~+s.BeneficiariesActualTotal,v.totalactual+=~~+s.BeneficiariesActualTotal,v.reservetargeted+=~~+s.BeneficiariesPlannedTotal,v.totaltargeted+=~~+s.BeneficiariesPlannedTotal))}),p}function ht(a){t.sorting==="allocations"?a.sort(function(n,r){return r[t.selectedModality]-n[t.selectedModality]}):a.sort(function(n,r){return r[t.selectedModality+t.selectedBeneficiary]-n[t.selectedModality+t.selectedBeneficiary]});let l=a.map(function(n){return n.cluster});l.splice(l.indexOf("Multi-Sector"),1),l.push("Multi-Sector"),At.domain(l)}function oe(a){X.domain([0,Math.max(1e3,d3.max(a,function(l){return l.total}))*ee]),K.domain([0,Math.max(1e3,d3.max(a,function(l){return l["total"+t.selectedBeneficiary]}))*ee])}function bn(a){a.split(",").map(function(n){return+n.trim()}).sort(function(n,r){return n-r}).forEach(function(n){n&&k.indexOf(n)>-1&&t.selectedYear.push(n)}),t.selectedYear.length||t.selectedYear.push(k[k.length-1])}function Ie(a){if(k.indexOf(a)>-1)return a;for(;k.indexOf(a)===-1;)a=a>=_t?a-1:a+1;return a}function yn(a){let l=[],n=a.split(",").map(function(e){return e.trim().toLowerCase()});return n.some(function(e){return xn(d3.values(W)).indexOf(e)===-1})?d3.keys(W):(n.forEach(function(e){for(var p in W)W[p].toLowerCase()===e&&l.push(p)}),l)}function xn(a){let l=[];for(let n in a)l.push(a[n].toLowerCase());return l}function Ct(a){return a[0].toUpperCase()+a.substring(1)}function Yt(a){let l=(~~Math.log10(a)+1)%3,n=l===1?2:l===2?1:0,r=d3.formatPrefix("."+n+"~",a)(a);if(parseInt(r)===1e3){let e=r[r.length-1],p={k:"M",M:"B"};return 1+(isNaN(e)?p[e]:"")}return r}function Jt(a){let l=document.createElementNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform",a);let n=l.transform.baseVal.consolidate().matrix;return[n.e,n.f]}function Ye(){un.html(function(){return t.selectedYear.length===1?null:"*Selected years: "+t.selectedYear.sort(function(l,n){return l-n}).reduce(function(l,n,r){return l+(r>=t.selectedYear.length-2?r>t.selectedYear.length-2?n:n+" and ":n+", ")},"")})}function Le(a){if(+a==0)return 0;let l,n={Y:Math.pow(10,24),Z:Math.pow(10,21),E:Math.pow(10,18),P:Math.pow(10,15),T:Math.pow(10,12),G:Math.pow(10,9),B:Math.pow(10,9),M:Math.pow(10,6),k:Math.pow(10,3),h:Math.pow(10,2),da:Math.pow(10,1),d:Math.pow(10,-1),c:Math.pow(10,-2),m:Math.pow(10,-3),\u03BC:Math.pow(10,-6),n:Math.pow(10,-9),p:Math.pow(10,-12),f:Math.pow(10,-15),a:Math.pow(10,-18),z:Math.pow(10,-21),y:Math.pow(10,-24)};return Object.keys(n).some(function(r){if(a.indexOf(r)>0)return l=parseFloat(a.split(r)[0])*n[r],!0}),l}function mn(a){let l=wn(a).sort(function(p,c){return+c.Year-+p.Year||(p["CBPF Name"].toLowerCase()<c["CBPF Name"].toLowerCase()?-1:p["CBPF Name"].toLowerCase()>c["CBPF Name"].toLowerCase()?1:0)||(p.Cluster.toLowerCase()<c.Cluster.toLowerCase()?-1:p.Cluster.toLowerCase()>c.Cluster.toLowerCase()?1:0)}),n=d3.keys(l[0]),r=function(p,c){return c===null?"":c},e=l.map(function(p){return n.map(function(c){return JSON.stringify(p[c],r)}).join(",")});return e.unshift(n.join(",")),e.join(`\r
`)}function wn(a){let l=a.filter(function(r){return t.selectedYear.indexOf(+r.AllocationYear)>-1&&t.selectedCbpfs.indexOf("id"+r.PooledFundId)>-1}),n=[];return l.forEach(function(r){let e=n.find(function(p){return p.Year===+r.AllocationYear&&p.Cluster===r.Cluster&&p["CBPF Name"]===r.PooledFundName});e?(e["Total Allocations"]+=+r.BudgetByCluster,e["Targeted People"]+=~~+r.BeneficiariesPlannedTotal,e["Reached People"]+=~~+r.BeneficiariesActualTotal):n.push({Year:+r.AllocationYear,"CBPF Name":r.PooledFundName,Cluster:r.Cluster,"Total Allocations":+r.BudgetByCluster,"Targeted People":~~+r.BeneficiariesPlannedTotal,"Reached People":~~+r.BeneficiariesActualTotal})}),n}function vn(){let a="\xA9 OCHA CBPF Section "+_t;an&&(a+=" | For more information, please visit <a href='https://cbpf.data.unocha.org'>cbpf.data.unocha.org</a>"),fn.append("div").attr("class","d3chartFooterText").html(a)}function Qe(){lt.style("opacity",0).style("pointer-events","none");let a=C.append("div").attr("class","pbiolcOverDivHelp"),l=ne.node().getBoundingClientRect(),n=window.getComputedStyle(ne.node()),r=jt.node().getBoundingClientRect(),e=It.node().getBoundingClientRect(),p=lt.node().getBoundingClientRect(),c=e.height*(b/e.width),s=(l.height+r.height+parseInt(n["margin-top"])+parseInt(n["margin-bottom"]))*(b/e.width),v=a.append("svg").attr("viewBox","0 0 "+b+" "+(ft+c+s)),T=[{text:"CLOSE",width:90},{text:"GO TO HELP PORTAL",width:180}],L=v.selectAll(null).data(T).enter().append("g");L.append("rect").attr("rx",4).attr("ry",4).style("stroke","rgba(0, 0, 0, 0.3)").style("stroke-width","1px").style("fill",ze).style("cursor","pointer").attr("y",6).attr("height",22).attr("width",function(F){return F.width}).attr("x",function(F,O){return b-A[1]-F.width-(O?T[0].width+8:0)}).on("click",function(F,O){lt.style("opacity",1).style("pointer-events","all"),a.remove(),O&&window.open($e,"help_portal")}),L.append("text").attr("class","pbiolcAnnotationMainText").attr("text-anchor","middle").attr("x",function(F,O){return b-A[1]-F.width/2-(O?T[0].width+8:0)}).attr("y",22).text(function(F){return F.text}),[{x:20,y:c+(s-r.height)*(e.width/b),width:b-40,height:r.height*(b/e.width),xTooltip:300*(e.width/b),yTooltip:(c+s+8)*(e.width/b),text:"Use these checkboxes to select the CBPF. A disabled checkbox means that the correspondent CBPF has no data for that year."},{x:20,y:118+c+s,width:420,height:30,xTooltip:78*(e.width/b),yTooltip:(c+s+154)*(e.width/b),text:"Use these buttons to select year. Double click or press ALT when clicking to select multiple years"},{x:488,y:118+c+s,width:212,height:30,xTooltip:444*(e.width/b),yTooltip:(c+s+154)*(e.width/b),text:"Use these buttons to select the modality type."},{x:750,y:118+c+s,width:134,height:30,xTooltip:720*(e.width/b),yTooltip:(c+s+154)*(e.width/b),text:"Use these buttons to show targeted or actual persons."},{x:190,y:156+c+s,width:170,height:30,xTooltip:142*(e.width/b),yTooltip:(c+s+192)*(e.width/b),text:"Click here to sort the sectors by allocations."},{x:586,y:156+c+s,width:186,height:30,xTooltip:520*(e.width/b),yTooltip:(c+s+192)*(e.width/b),text:"Click here to sort the sectors by persons (targeted or reached)."},{x:6,y:202+c+s,width:312,height:334,xTooltip:326*(e.width/b),yTooltip:(c+s+242)*(e.width/b),text:"This area depicts the amount allocated by sector. The black triangles, when present, indicate standard allocations."},{x:582,y:202+c+s,width:312,height:334,xTooltip:268*(e.width/b),yTooltip:(c+s+242)*(e.width/b),text:"This area depicts the number of targeted or reached persons for each sector. The black triangles, when present, indicate the number of reached persons."}].forEach(function(F){v.append("rect").attr("rx",4).attr("ry",4).attr("x",F.x).attr("y",F.y).attr("width",F.width).attr("height",F.height).style("stroke",pt).style("stroke-width","3px").style("fill","none").style("opacity",.5).attr("class","pbiolcHelpRectangle").attr("pointer-events","all").on("mouseover",function(){let O=this;bt(F.xTooltip,F.yTooltip,F.text,O)}).on("mouseout",Lt)});let at=v.append("rect").attr("x",b/2-180).attr("y",180+c+s).attr("width",360).attr("height",50).attr("pointer-events","none").style("fill","white").style("stroke","#888"),gt=v.append("text").attr("class","pbiolcAnnotationExplanationText").attr("font-family","Roboto").attr("font-size","18px").style("fill","#222").attr("text-anchor","middle").attr("x",b/2).attr("y",200+c+s).attr("pointer-events","none").text("Hover over the elements surrounded by a blue rectangle to get additional information").call(Bn,350);function bt(F,O,et,_){gt.style("opacity",0),at.style("opacity",0),v.selectAll(".pbiolcHelpRectangle").style("opacity",.1),d3.select(_).style("opacity",1);let it=C.node().getBoundingClientRect();H.style("top",O+"px").style("left",F+"px").style("display","block").html(et)}function Lt(){H.style("display","none"),gt.style("opacity",1),at.style("opacity",1),v.selectAll(".pbiolcHelpRectangle").style("opacity",.5)}}function Bn(a,l){a.each(function(){let n=d3.select(this),r=n.text().split(/\s+/).reverse(),e,p=[],c=0,s=1.1,v=n.attr("y"),T=n.attr("x"),L=0,Y=n.text(null).append("tspan").attr("x",T).attr("y",v).attr("dy",L+"em");for(;e=r.pop();)p.push(e),Y.text(p.join(" ")),Y.node().getComputedTextLength()>l&&(p.pop(),Y.text(p.join(" ")),p=[e],Y=n.append("tspan").attr("x",T).attr("y",v).attr("dy",++c*s+L+"em").text(e))})}function Wt(a,l){if(ce){alert("This functionality is not supported by Internet Explorer");return}let r=d3.select("body").append("div").style("position","fixed").attr("id","pbiolcDownloadingDiv").style("left",window.innerWidth/2-100+"px").style("top",window.innerHeight/2-100+"px").append("svg").attr("class","pbiolcDownloadingDivSvg").attr("width",200).attr("height",100),e="Downloading "+a.toUpperCase();Ge(r,200,175,e);let p=S.node().getBoundingClientRect();S.attr("width",p.width).attr("height",p.height);let c=["font-size","font-family","font-weight","fill","stroke","stroke-dasharray","stroke-width","opacity","text-anchor","text-transform","shape-rendering","letter-spacing","white-space"],s=C.node();v(S.node()),a==="png"?lt.style("opacity",0):It.style("opacity",0),Bt.style("display","none"),S.selectAll("image").attr("xlink:href",function(T){return localStorage.getItem("storedCluster"+T.clusterKey.toLowerCase())}),html2canvas(s).then(function(T){S.attr("width",null).attr("height",null),a==="png"?lt.style("opacity",1):It.style("opacity",1),a==="png"?Cn(T):Pn(T),l&&vt&&d3.select(vt).dispatch("mouseout")});function v(T){if(!T.style)return;let L=getComputedStyle(T);for(let Y=0;Y<c.length;Y++)T.style[c[Y]]=L[c[Y]];for(let Y=0;Y<T.childNodes.length;Y++)v(T.childNodes[Y])}}function Cn(a){let n="SectorsOverview_"+$t(new Date)+".png";a.toBlob(function(r){let e=URL.createObjectURL(r),p=document.createElement("a");p.download!==void 0?(p.setAttribute("href",e),p.setAttribute("download",n),p.style="visibility:hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p)):window.location.href=e}),le(),d3.select("#pbiolcDownloadingDiv").remove()}function Pn(a){let l={top:10,bottom:16,left:20,right:30};d3.image("https://raw.githubusercontent.com/CBPFGMS/cbpfgms.github.io/master/img/assets/bilogo.png").then(function(n){let r,e=new jsPDF;Lt();let p=e.splitTextToSize("CBPF receives broad support from United Nations Member States, the private sectors and individuals.",210-l.left-l.right,{fontSize:12}),c=d3.timeFormat("%A, %d %B %Y")(new Date);e.setTextColor(60),e.setFont("helvetica"),e.setFontType("normal"),e.setFontSize(12),e.text(l.left,48,p),e.setTextColor(65,143,222),e.setFont("helvetica"),e.setFontType("bold"),e.setFontSize(16),e.text(Pe,l.left,65),e.setFontSize(12);let s=t.selectedYear.sort(function(O,et){return O-et}).reduce(function(O,et,_){return O+(_>=t.selectedYear.length-2?_>t.selectedYear.length-2?et:et+" and ":et+", ")},""),v=t.selectedYear.length>1?"Selected years: ":"Selected year: ",T=Ct(t.selectedModality),L=Ct(t.selectedBeneficiary),Y=F();e.fromHTML("<div style='margin-bottom: 2px; font-family: Arial, sans-serif; color: rgb(60, 60 60);'>Date: <span style='color: rgb(65, 143, 222); font-weight: 700;'>"+c+"</span></div><div style='margin-bottom: 2px; font-family: Arial, sans-serif; color: rgb(60, 60 60);'>"+v+"<span style='color: rgb(65, 143, 222); font-weight: 700;'>"+s+"</span></div><div style='margin-bottom: 2px; font-family: Arial, sans-serif; color: rgb(60, 60 60);'>Modality: <span style='color: rgb(65, 143, 222); font-weight: 700;'>"+T+"</span></div><div style='margin-bottom: 2px; font-family: Arial, sans-serif; color: rgb(60, 60 60);'>Reached People: <span style='color: rgb(65, 143, 222); font-weight: 700;'>"+L+"</span></div><div style='margin-bottom: 2px; font-family: Arial, sans-serif; color: rgb(60, 60 60);'>"+Y.split("-")[0]+": <span style='color: rgb(65, 143, 222); font-weight: 700;'>"+Y.split("-")[1]+"</span></div>",l.left,70,{width:210-l.left-l.right},function(O){r=O});let at=C.node().getBoundingClientRect(),gt=210-l.left*2;e.addImage(a,"PNG",l.left,r.y+2,gt,gt*(at.height/at.width));let bt=new Date;e.save("SectorsOverview_"+$t(bt)+".pdf"),le(),d3.select("#pbiolcDownloadingDiv").remove();function Lt(){let O="\xA9 OCHA CBPF Section "+_t+" | For more information, please visit cbpf.data.unocha.org";e.setFillColor(65,143,222),e.rect(0,l.top,210,15,"F"),e.setFillColor(236,161,84),e.rect(0,l.top+15,210,2,"F"),e.setFillColor(255,255,255),e.rect(l.left,l.top-1,94,20,"F"),e.ellipse(l.left,l.top+9,5,9,"F"),e.ellipse(l.left+94,l.top+9,5,9,"F"),e.addImage(n,"PNG",l.left+2,l.top,90,18),e.setFillColor(236,161,84),e.rect(0,297-l.bottom,210,2,"F"),e.setTextColor(60),e.setFont("arial"),e.setFontType("normal"),e.setFontSize(10),e.text(O,l.left,297-l.bottom+10)}function F(){let O=t.selectedCbpfs.length===1?"":"s",et=t.selectedCbpfs.map(function(_){return W[_]}).sort(function(_,it){return _.toLowerCase()<it.toLowerCase()?-1:_.toLowerCase()>it.toLowerCase()?1:0}).reduce(function(_,it,Pt){return _+(Pt>=t.selectedCbpfs.length-2?Pt>t.selectedCbpfs.length-2?it:it+" and ":it+", ")},"");return"Selected CBPF"+O+"-"+et}})}function Ge(a,l,n,r){let e=a.append("g").attr("class","pbiolcd3chartwheelGroup").attr("transform","translate("+l/2+","+n/4+")"),p=e.append("text").attr("text-anchor","middle").style("font-family","Roboto").style("font-weight","bold").style("font-size","11px").attr("y",50).attr("class","contributionColorFill").text(r),c=d3.arc().outerRadius(25).innerRadius(20),s=e.append("path").datum({startAngle:0,endAngle:0}).classed("contributionColorFill",!0).attr("d",c);v();function v(){s.transition().duration(1e3).attrTween("d",function(L){let Y=d3.interpolate(0,Math.PI*2);return function(at){return L.endAngle=Y(at),c(L)}}).on("end",T)}function T(){s.transition().duration(1e3).attrTween("d",function(L){let Y=d3.interpolate(0,Math.PI*2);return function(at){return L.startAngle=Y(at),c(L)}}).on("end",function(L){L.startAngle=0,v()})}}function le(){let a=d3.select(".pbiolcd3chartwheelGroup");a.select("path").interrupt(),a.remove()}}})();})();
